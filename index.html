<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HYOJIN.AI ÏáºÌïëÎ™∞ - AI ÎèÑÎ©îÏù∏ & ÏóêÏù¥Ï†ÑÌä∏ Íµ¨ÎèÖ</title>
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.2em; opacity: 0.9; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        .category-tabs {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .tab {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .tab.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .product-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #e74c3c;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .product-badge.domain { background: #3498db; }
        .product-badge.agent { background: #f39c12; }
        
        .product-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .product-description {
            opacity: 0.9;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .product-features {
            margin: 15px 0;
        }
        
        .product-features li {
            margin: 5px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .product-features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: bold;
        }
        
        .product-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0 15px 0;
            padding: 15px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .price {
            font-size: 1.4em;
            font-weight: bold;
            color: #2ecc71;
        }
        
        .original-price {
            text-decoration: line-through;
            opacity: 0.6;
            margin-right: 10px;
        }
        
        .subscribe-btn {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            width: 100%;
        }
        
        .subscribe-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }
        
        .cart {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            min-width: 200px;
        }
        
        .cart-count {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            margin-left: 10px;
        }
        
        .hidden { display: none; }
        
        .checkout-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
        }
        
        .form-group {
            margin: 15px 0;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .checkout-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            width: 100%;
            margin-top: 20px;
        }
        
        .total-price {
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: #2ecc71;
        }
        
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .payment-method {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            text-align: center;
        }
        
        .payment-method:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .payment-method.selected {
            border-color: #2ecc71;
            background: rgba(46, 204, 113, 0.2);
        }
        
        .payment-method img {
            height: 40px;
            margin-bottom: 10px;
        }
        
        #card-element {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .payment-loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .payment-success {
            display: none;
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #2ecc71;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        
        .payment-error {
            display: none;
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid #e74c3c;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üõí HYOJIN.AI ÏáºÌïëÎ™∞</h1>
        <p>12Í∞ú AI ÎèÑÎ©îÏù∏ & 15Î™Ö Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏ Íµ¨ÎèÖ ÏÑúÎπÑÏä§</p>
    </div>

    <div class="cart">
        <strong>üõçÔ∏è Ïû•Î∞îÍµ¨Îãà</strong>
        <span class="cart-count" id="cartCount">0</span>
        <div id="cartItems" style="margin-top: 10px; max-height: 200px; overflow-y: auto;"></div>
        <button onclick="showCheckout()" style="margin-top: 10px; padding: 8px 15px; background: #2ecc71; color: white; border: none; border-radius: 5px; cursor: pointer;">Í≤∞Ï†úÌïòÍ∏∞</button>
    </div>

    <div class="container">
        <div class="category-tabs">
            <div class="tab active" onclick="showCategory('all')">Ï†ÑÏ≤¥</div>
            <div class="tab" onclick="showCategory('domains')">AI ÎèÑÎ©îÏù∏ (12Í∞ú)</div>
            <div class="tab" onclick="showCategory('agents')">AI ÏóêÏù¥Ï†ÑÌä∏ (15Î™Ö)</div>
            <div class="tab" onclick="showCategory('bundles')">Î≤àÎì§ Ìå®ÌÇ§ÏßÄ</div>
        </div>

        <div id="productsContainer" class="products-grid">
            <!-- Ï†úÌíàÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
        </div>

        <div id="checkoutSection" class="checkout-section hidden">
            <h2>üõçÔ∏è Ï£ºÎ¨∏ Ï†ïÎ≥¥</h2>
            <div id="orderSummary"></div>
            
            <div class="total-price" id="totalPrice">Ï¥ù Í∏àÏï°: $0/Ïõî</div>
            
            <div class="payment-methods">
                <div class="payment-method selected" onclick="selectPaymentMethod('card', this)">
                    <div style="font-size: 2em;">üí≥</div>
                    <div>Ïã†Ïö©Ïπ¥Îìú</div>
                    <small>Visa, Mastercard, AMEX</small>
                </div>
                <div class="payment-method" onclick="selectPaymentMethod('paypal', this)">
                    <div style="font-size: 2em;">üíô</div>
                    <div>PayPal</div>
                    <small>ÏïàÏ†ÑÌïú PayPal Í≤∞Ï†ú</small>
                </div>
                <div class="payment-method" onclick="selectPaymentMethod('bank', this)">
                    <div style="font-size: 2em;">üè¶</div>
                    <div>Í≥ÑÏ¢åÏù¥Ï≤¥</div>
                    <small>ÌïúÍµ≠ ÏùÄÌñâ Í≥ÑÏ¢å</small>
                </div>
            </div>
            
            <div class="payment-error" id="paymentError"></div>
            
            <form id="checkoutForm">
                <div class="form-group">
                    <label>Ïù¥Î¶Ñ *</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label>Ïù¥Î©îÏùº *</label>
                    <input type="email" id="customerEmail" required>
                </div>
                <div class="form-group">
                    <label>ÌöåÏÇ¨Î™Ö</label>
                    <input type="text" id="customerCompany">
                </div>
                
                <!-- Ïã†Ïö©Ïπ¥Îìú Í≤∞Ï†ú Ìèº -->
                <div id="cardPaymentForm">
                    <div class="form-group">
                        <label>Ïã†Ïö©Ïπ¥Îìú Ï†ïÎ≥¥</label>
                        <div id="card-element">
                            <!-- Stripe ElementsÍ∞Ä Ïó¨Í∏∞Ïóê ÏÇΩÏûÖÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
                
                <!-- Í≥ÑÏ¢åÏù¥Ï≤¥ Ï†ïÎ≥¥ -->
                <div id="bankPaymentForm" style="display: none;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <h4>üìã Í≥ÑÏ¢åÏù¥Ï≤¥ Ï†ïÎ≥¥</h4>
                        <p><strong>ÏùÄÌñâ:</strong> Íµ≠ÎØºÏùÄÌñâ</p>
                        <p><strong>Í≥ÑÏ¢åÎ≤àÌò∏:</strong> 123-456-789012</p>
                        <p><strong>ÏòàÍ∏àÏ£º:</strong> HYOJIN.AI</p>
                        <small style="color: #f39c12;">‚ö†Ô∏è ÏûÖÍ∏à ÌõÑ Ïù¥Î©îÏùºÎ°ú ÏûÖÍ∏àÌôïÏù∏ÏÑúÎ•º Î≥¥ÎÇ¥Ï£ºÏÑ∏Ïöî.</small>
                    </div>
                </div>
                
                <div class="payment-loading" id="paymentLoading">
                    <div style="font-size: 2em; margin-bottom: 10px;">‚è≥</div>
                    <div>Í≤∞Ï†úÎ•º Ï≤òÎ¶¨ÌïòÍ≥† ÏûàÏäµÎãàÎã§...</div>
                </div>
                
                <div class="payment-success" id="paymentSuccess">
                    <div style="font-size: 3em; margin-bottom: 15px;">üéâ</div>
                    <h3>Í≤∞Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!</h3>
                    <p>Íµ¨ÎèÖ ÏÑúÎπÑÏä§Í∞Ä Í≥ß ÌôúÏÑ±ÌôîÎê©ÎãàÎã§.</p>
                    <div id="subscriptionDetails"></div>
                </div>
                
                <button type="submit" class="checkout-btn" id="submitBtn">
                    ÔøΩ Í≤∞Ï†úÌïòÍ∏∞
                </button>
            </form>
        </div>
    </div>

    <script>
        // ÏÉÅÌíà Îç∞Ïù¥ÌÑ∞
        const products = {
            domains: [
                {
                    id: 'medical-ai',
                    name: 'ÏùòÎ£å AI ÎèÑÎ©îÏù∏',
                    description: 'ÏßÑÎã®, ÏπòÎ£å, ÏùòÎ£å Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑùÏùÑ ÏúÑÌïú Ï†ÑÎ¨∏ AI ÏÜîÎ£®ÏÖò',
                    features: ['ÏßÑÎã® Î≥¥Ï°∞ AI', 'ÏùòÎ£å ÏòÅÏÉÅ Î∂ÑÏÑù', 'ÌôòÏûê Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨', 'ÏπòÎ£å Í≥ÑÌöç ÏàòÎ¶Ω'],
                    price: 199,
                    originalPrice: 299,
                    type: 'domain'
                },
                {
                    id: 'finance-ai',
                    name: 'Í∏àÏúµ AI ÎèÑÎ©îÏù∏',
                    description: 'Ìà¨Ïûê, ÏúÑÌóò Í¥ÄÎ¶¨, Í∏àÏúµ Î∂ÑÏÑùÏùÑ ÏúÑÌïú AI ÏãúÏä§ÌÖú',
                    features: ['Ìà¨Ïûê Î∂ÑÏÑù', 'Î¶¨Ïä§ÌÅ¨ Í¥ÄÎ¶¨', 'ÏÇ¨Í∏∞ ÌÉêÏßÄ', 'Ïã†Ïö© ÌèâÍ∞Ä'],
                    price: 179,
                    originalPrice: 249,
                    type: 'domain'
                },
                {
                    id: 'education-ai',
                    name: 'ÍµêÏú° AI ÎèÑÎ©îÏù∏',
                    description: 'Í∞úÏù∏Ìôî ÌïôÏäµ, ÍµêÏú° ÏΩòÌÖêÏ∏† ÏÉùÏÑ±, ÌïôÏäµ ÌèâÍ∞Ä AI',
                    features: ['ÎßûÏ∂§Ìòï ÌïôÏäµ', 'ÏûêÎèô Ï±ÑÏ†ê', 'ÏΩòÌÖêÏ∏† ÏÉùÏÑ±', 'ÌïôÏäµ Î∂ÑÏÑù'],
                    price: 149,
                    originalPrice: 199,
                    type: 'domain'
                },
                {
                    id: 'manufacturing-ai',
                    name: 'Ï†úÏ°∞ AI ÎèÑÎ©îÏù∏',
                    description: 'ÌíàÏßà Í¥ÄÎ¶¨, ÏòàÏ∏° Ïú†ÏßÄÎ≥¥Ïàò, ÏÉùÏÇ∞ ÏµúÏ†ÅÌôî AI',
                    features: ['ÌíàÏßà Í≤ÄÏÇ¨', 'ÏòàÏ∏° Ïú†ÏßÄÎ≥¥Ïàò', 'ÏÉùÏÇ∞ Í≥ÑÌöç', 'Í≥µÍ∏âÎßù Í¥ÄÎ¶¨'],
                    price: 229,
                    originalPrice: 329,
                    type: 'domain'
                },
                {
                    id: 'mobility-ai',
                    name: 'Î™®ÎπåÎ¶¨Ìã∞ AI ÎèÑÎ©îÏù∏',
                    description: 'ÏûêÏú®Ï£ºÌñâ, ÍµêÌÜµ Í¥ÄÎ¶¨, Î¨ºÎ•ò ÏµúÏ†ÅÌôî AI',
                    features: ['ÏûêÏú®Ï£ºÌñâ ÏïåÍ≥†Î¶¨Ï¶ò', 'ÍµêÌÜµ ÌùêÎ¶Ñ Î∂ÑÏÑù', 'Í≤ΩÎ°ú ÏµúÏ†ÅÌôî', 'ÏïàÏ†Ñ ÏãúÏä§ÌÖú'],
                    price: 259,
                    originalPrice: 359,
                    type: 'domain'
                },
                {
                    id: 'entertainment-ai',
                    name: 'ÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏ AI',
                    description: 'Í≤åÏûÑ, ÎØ∏ÎîîÏñ¥, ÏΩòÌÖêÏ∏† ÏÉùÏÑ±ÏùÑ ÏúÑÌïú AI',
                    features: ['Í≤åÏûÑ AI', 'ÏΩòÌÖêÏ∏† Ï∂îÏ≤ú', 'ÎØ∏ÎîîÏñ¥ ÏÉùÏÑ±', 'ÏÇ¨Ïö©Ïûê Í≤ΩÌóò'],
                    price: 139,
                    originalPrice: 189,
                    type: 'domain'
                },
                {
                    id: 'retail-ai',
                    name: 'Î¶¨ÌÖåÏùº AI ÎèÑÎ©îÏù∏',
                    description: 'Í≥†Í∞ù Î∂ÑÏÑù, Ïû¨Í≥† Í¥ÄÎ¶¨, Îß§Ï∂ú ÏòàÏ∏° AI',
                    features: ['Í≥†Í∞ù ÏÑ∏Î∂ÑÌôî', 'Ïû¨Í≥† ÏµúÏ†ÅÌôî', 'Îß§Ï∂ú ÏòàÏ∏°', 'Í∞úÏù∏Ìôî Ï∂îÏ≤ú'],
                    price: 169,
                    originalPrice: 239,
                    type: 'domain'
                },
                {
                    id: 'energy-ai',
                    name: 'ÏóêÎÑàÏßÄ AI ÎèÑÎ©îÏù∏',
                    description: 'ÏóêÎÑàÏßÄ Ìö®Ïú®, Ïä§ÎßàÌä∏ Í∑∏Î¶¨Îìú, Ïû¨ÏÉùÏóêÎÑàÏßÄ Í¥ÄÎ¶¨',
                    features: ['ÏóêÎÑàÏßÄ ÏµúÏ†ÅÌôî', 'Ïä§ÎßàÌä∏ Í∑∏Î¶¨Îìú', 'ÏòàÏ∏° Î∂ÑÏÑù', 'ÎπÑÏö© Ï†àÍ∞ê'],
                    price: 189,
                    originalPrice: 269,
                    type: 'domain'
                },
                {
                    id: 'agriculture-ai',
                    name: 'ÎÜçÏóÖ AI ÎèÑÎ©îÏù∏',
                    description: 'Ïä§ÎßàÌä∏ ÎÜçÏóÖ, ÏûëÎ¨º Î™®ÎãàÌÑ∞ÎßÅ, ÏàòÌôïÎüâ ÏòàÏ∏°',
                    features: ['ÏûëÎ¨º Î™®ÎãàÌÑ∞ÎßÅ', 'Î≥ëÌï¥Ï∂© ÌÉêÏßÄ', 'ÏàòÌôïÎüâ ÏòàÏ∏°', 'ÎÜçÏû• Í¥ÄÎ¶¨'],
                    price: 159,
                    originalPrice: 219,
                    type: 'domain'
                },
                {
                    id: 'realestate-ai',
                    name: 'Î∂ÄÎèôÏÇ∞ AI ÎèÑÎ©îÏù∏',
                    description: 'Î∂ÄÎèôÏÇ∞ Í∞ÄÍ≤© ÏòàÏ∏°, Ìà¨Ïûê Î∂ÑÏÑù, ÏãúÏû• Ìä∏Î†åÎìú',
                    features: ['Í∞ÄÍ≤© ÏòàÏ∏°', 'Ìà¨Ïûê Î∂ÑÏÑù', 'ÏãúÏû• Ìä∏Î†åÎìú', 'Î¨ºÍ±¥ Ï∂îÏ≤ú'],
                    price: 179,
                    originalPrice: 249,
                    type: 'domain'
                },
                {
                    id: 'customer-ai',
                    name: 'Í≥†Í∞ùÏÑúÎπÑÏä§ AI',
                    description: 'Ï±óÎ¥á, Í≥†Í∞ù Î∂ÑÏÑù, ÏÑúÎπÑÏä§ ÏûêÎèôÌôî',
                    features: ['ÏßÄÎä•Ìòï Ï±óÎ¥á', 'Í∞êÏ†ï Î∂ÑÏÑù', 'ÏûêÎèô ÏùëÎãµ', 'Í≥†Í∞ù ÎßåÏ°±ÎèÑ'],
                    price: 129,
                    originalPrice: 179,
                    type: 'domain'
                },
                {
                    id: 'saas-ai',
                    name: 'SaaS AI ÎèÑÎ©îÏù∏',
                    description: 'ÌÅ¥ÎùºÏö∞Îìú Í∏∞Î∞ò AI ÏÑúÎπÑÏä§, API ÌÜµÌï©',
                    features: ['ÌÅ¥ÎùºÏö∞Îìú AI', 'API ÌÜµÌï©', 'ÌôïÏû•ÏÑ±', 'Î≥¥Ïïà'],
                    price: 199,
                    originalPrice: 279,
                    type: 'domain'
                }
            ],
            agents: [
                {
                    id: 'medical-doctor-ai',
                    name: 'Îã•ÌÑ∞ ÍπÄ AI',
                    description: 'ÏùòÎ£å ÏßÑÎã® Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Ï¶ùÏÉÅ Î∂ÑÏÑù', 'ÏßÑÎã® Î≥¥Ï°∞', 'ÏπòÎ£å Ï∂îÏ≤ú', 'ÏùòÎ£å ÏÉÅÎã¥'],
                    price: 89,
                    originalPrice: 129,
                    type: 'agent'
                },
                {
                    id: 'finance-analyst-ai',
                    name: 'Ïï†ÎÑêÎ¶¨Ïä§Ìä∏ Î∞ï AI',
                    description: 'Í∏àÏúµ Î∂ÑÏÑù Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Ìà¨Ïûê Î∂ÑÏÑù', 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Í¥ÄÎ¶¨', 'Î¶¨Ïä§ÌÅ¨ ÌèâÍ∞Ä', 'ÏãúÏû• ÏòàÏ∏°'],
                    price: 79,
                    originalPrice: 119,
                    type: 'agent'
                },
                {
                    id: 'teacher-ai',
                    name: 'ÏÑ†ÏÉùÎãò Ïù¥ AI',
                    description: 'ÍµêÏú° ÏΩòÌÖêÏ∏† Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÎßûÏ∂§ ÍµêÏú°', 'Í≥ºÏ†ú ÏÉùÏÑ±', 'ÌïôÏäµ ÌèâÍ∞Ä', 'ÏßÑÎèÑ Í¥ÄÎ¶¨'],
                    price: 69,
                    originalPrice: 99,
                    type: 'agent'
                },
                {
                    id: 'qa-engineer-ai',
                    name: 'ÌíàÏßàÍ¥ÄÎ¶¨ Ïµú AI',
                    description: 'Ï†úÏ°∞ ÌíàÏßà Í¥ÄÎ¶¨ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÌíàÏßà Í≤ÄÏÇ¨', 'Î∂àÎüâ ÌÉêÏßÄ', 'Í≥µÏ†ï Í∞úÏÑ†', 'ÌëúÏ§ÄÌôî'],
                    price: 99,
                    originalPrice: 139,
                    type: 'agent'
                },
                {
                    id: 'driver-ai',
                    name: 'ÎìúÎùºÏù¥Î≤Ñ Ï†ï AI',
                    description: 'ÏûêÏú®Ï£ºÌñâ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Í≤ΩÎ°ú Í≥ÑÌöç', 'ÏïàÏ†Ñ Ïö¥Ï†Ñ', 'ÍµêÌÜµ Î∂ÑÏÑù', 'Ïó∞Î£å Ìö®Ïú®'],
                    price: 109,
                    originalPrice: 149,
                    type: 'agent'
                },
                {
                    id: 'game-ai',
                    name: 'Í≤åÏù¥Î®∏ Ìïú AI',
                    description: 'Í≤åÏûÑ Í∞úÎ∞ú Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Í≤åÏûÑ Î∞∏Îü∞Ïä§', 'NPC ÌñâÎèô', 'Î†àÎ≤® ÎîîÏûêÏù∏', 'ÌîåÎ†àÏù¥Ïñ¥ Î∂ÑÏÑù'],
                    price: 59,
                    originalPrice: 89,
                    type: 'agent'
                },
                {
                    id: 'sales-ai',
                    name: 'ÏÑ∏ÏùºÏ¶à Í∞ï AI',
                    description: 'Î¶¨ÌÖåÏùº ÌåêÎß§ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Í≥†Í∞ù Î∂ÑÏÑù', 'ÏÉÅÌíà Ï∂îÏ≤ú', 'Îß§Ï∂ú ÏòàÏ∏°', 'Ïû¨Í≥† Í¥ÄÎ¶¨'],
                    price: 79,
                    originalPrice: 109,
                    type: 'agent'
                },
                {
                    id: 'energy-ai',
                    name: 'ÏóêÎÑàÏßÄ Ïú§ AI',
                    description: 'ÏóêÎÑàÏßÄ Í¥ÄÎ¶¨ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÏóêÎÑàÏßÄ Î™®ÎãàÌÑ∞ÎßÅ', 'Ìö®Ïú® ÏµúÏ†ÅÌôî', 'ÎπÑÏö© Ï†àÍ∞ê', 'ÌôòÍ≤Ω Î∂ÑÏÑù'],
                    price: 89,
                    originalPrice: 119,
                    type: 'agent'
                },
                {
                    id: 'farmer-ai',
                    name: 'ÎÜçÎ∂Ä Ïã† AI',
                    description: 'Ïä§ÎßàÌä∏ ÎÜçÏóÖ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÏûëÎ¨º Í¥ÄÎ¶¨', 'Î≥ëÌï¥Ï∂© ÏòàÎ∞©', 'ÏàòÌôï ÏãúÍ∏∞', 'ÎÜçÏû• Ïö¥ÏòÅ'],
                    price: 69,
                    originalPrice: 99,
                    type: 'agent'
                },
                {
                    id: 'realtor-ai',
                    name: 'Î∂ÄÎèôÏÇ∞ Ï°∞ AI',
                    description: 'Î∂ÄÎèôÏÇ∞ Î∂ÑÏÑù Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÏãúÏÑ∏ Î∂ÑÏÑù', 'Ìà¨Ïûê Ï°∞Ïñ∏', 'Îß§Î¨º Ï∂îÏ≤ú', 'Í≥ÑÏïΩ ÏßÄÏõê'],
                    price: 79,
                    originalPrice: 109,
                    type: 'agent'
                },
                {
                    id: 'support-ai',
                    name: 'Í≥†Í∞ùÏÑºÌÑ∞ Ìôç AI',
                    description: 'Í≥†Í∞ù ÏÑúÎπÑÏä§ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['24/7 ÏÉÅÎã¥', 'Î¨∏Ï†ú Ìï¥Í≤∞', 'Í∞êÏ†ï Ïù∏Ïãù', 'ÎßåÏ°±ÎèÑ Í¥ÄÎ¶¨'],
                    price: 59,
                    originalPrice: 79,
                    type: 'agent'
                },
                {
                    id: 'cloud-ai',
                    name: 'ÌÅ¥ÎùºÏö∞Îìú ÏÑú AI',
                    description: 'ÌÅ¥ÎùºÏö∞Îìú Í¥ÄÎ¶¨ Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Ïù∏ÌîÑÎùº Í¥ÄÎ¶¨', 'ÏûêÎèô Ïä§ÏºÄÏùºÎßÅ', 'ÎπÑÏö© ÏµúÏ†ÅÌôî', 'Î≥¥Ïïà Î™®ÎãàÌÑ∞ÎßÅ'],
                    price: 99,
                    originalPrice: 139,
                    type: 'agent'
                },
                {
                    id: 'security-ai',
                    name: 'Î≥¥ÏïàÍ¥Ä Ïû• AI',
                    description: 'ÏÇ¨Ïù¥Î≤Ñ Î≥¥Ïïà Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['ÏúÑÌòë ÌÉêÏßÄ', 'Ïπ®ÏûÖ Î∞©ÏßÄ', 'Î°úÍ∑∏ Î∂ÑÏÑù', 'Î≥¥Ïïà Í∞êÏÇ¨'],
                    price: 119,
                    originalPrice: 159,
                    type: 'agent'
                },
                {
                    id: 'logistics-ai',
                    name: 'Î¨ºÎ•òÏôï ÏÜ° AI',
                    description: 'Î¨ºÎ•ò ÏµúÏ†ÅÌôî Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Î∞∞ÏÜ° ÏµúÏ†ÅÌôî', 'Ïû¨Í≥† Í¥ÄÎ¶¨', 'Í≥µÍ∏âÎßù Î∂ÑÏÑù', 'ÎπÑÏö© Ï†àÍ∞ê'],
                    price: 89,
                    originalPrice: 119,
                    type: 'agent'
                },
                {
                    id: 'data-ai',
                    name: 'Îç∞Ïù¥ÌÑ∞ Ìô© AI',
                    description: 'Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ï†ÑÎ¨∏ AI ÏóêÏù¥Ï†ÑÌä∏',
                    features: ['Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨', 'ÌÜµÍ≥Ñ Î∂ÑÏÑù', 'ÏãúÍ∞ÅÌôî', 'Ïù∏ÏÇ¨Ïù¥Ìä∏ ÎèÑÏ∂ú'],
                    price: 99,
                    originalPrice: 129,
                    type: 'agent'
                }
            ],
            bundles: [
                {
                    id: 'starter-bundle',
                    name: 'Ïä§ÌÉÄÌÑ∞ Î≤àÎì§',
                    description: 'Ïù∏Í∏∞ AI ÎèÑÎ©îÏù∏ 3Í∞ú + ÏóêÏù¥Ï†ÑÌä∏ 5Î™Ö',
                    features: ['ÏùòÎ£å+Í∏àÏúµ+ÍµêÏú° AI', 'ÌïµÏã¨ ÏóêÏù¥Ï†ÑÌä∏ 5Î™Ö', '24/7 ÏßÄÏõê', 'ÏõîÍ∞Ñ Î¶¨Ìè¨Ìä∏'],
                    price: 399,
                    originalPrice: 699,
                    type: 'bundle'
                },
                {
                    id: 'business-bundle',
                    name: 'ÎπÑÏ¶àÎãàÏä§ Î≤àÎì§',
                    description: 'AI ÎèÑÎ©îÏù∏ 8Í∞ú + ÏóêÏù¥Ï†ÑÌä∏ 10Î™Ö',
                    features: ['Ï£ºÏöî AI ÎèÑÎ©îÏù∏ 8Í∞ú', 'Ï†ÑÎ¨∏ ÏóêÏù¥Ï†ÑÌä∏ 10Î™Ö', 'Ïö∞ÏÑ† ÏßÄÏõê', 'Ïª§Ïä§ÌÖÄ Í∏∞Îä•'],
                    price: 899,
                    originalPrice: 1599,
                    type: 'bundle'
                },
                {
                    id: 'enterprise-bundle',
                    name: 'ÏóîÌÑ∞ÌîÑÎùºÏù¥Ï¶à Î≤àÎì§',
                    description: 'Î™®Îì† AI ÎèÑÎ©îÏù∏ 12Í∞ú + Î™®Îì† ÏóêÏù¥Ï†ÑÌä∏ 15Î™Ö',
                    features: ['Ï†ÑÏ≤¥ AI ÎèÑÎ©îÏù∏', 'Î™®Îì† ÏóêÏù¥Ï†ÑÌä∏', 'Ï†ÑÎã¥ ÏßÄÏõê', 'Î¨¥Ï†úÌïú Ïª§Ïä§ÌÑ∞ÎßàÏù¥Ïßï'],
                    price: 1999,
                    originalPrice: 3999,
                    type: 'bundle'
                }
            ]
        };

        let cart = [];
        let currentCategory = 'all';
        let selectedPaymentMethod = 'card';
        let stripe = null;
        let elements = null;
        let card = null;

        // Stripe Ï¥àÍ∏∞Ìôî (Ïã§Ï†ú ÏÇ¨Ïö©ÏãúÏóêÎäî Î≥∏Ïù∏Ïùò Publishable KeyÎ°ú ÍµêÏ≤¥)
        let STRIPE_PUBLISHABLE_KEY = 'pk_test_demo'; // Í∏∞Î≥∏Í∞í
        
        // ÌéòÏù¥ÏßÄ Î°úÎìúÏãú Stripe Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            loadPaymentConfig();
        });
        
        async function loadPaymentConfig() {
            try {
                const response = await fetch('/api/payment-config');
                const config = await response.json();
                STRIPE_PUBLISHABLE_KEY = config.stripe_publishable_key;
                initializeStripe();
            } catch (error) {
                console.warn('Í≤∞Ï†ú ÏÑ§Ï†ï Î°úÎìú Ïã§Ìå®, Îç∞Î™® Î™®ÎìúÎ°ú Ïã§Ìñâ:', error);
                initializeStripe();
            }
        }
        
        function initializeStripe() {
            try {
                if (STRIPE_PUBLISHABLE_KEY !== 'pk_test_demo') {
                    stripe = Stripe(STRIPE_PUBLISHABLE_KEY);
                    elements = stripe.elements();
                    
                    // Ïπ¥Îìú ÏöîÏÜå Ïä§ÌÉÄÏùº
                    const style = {
                        base: {
                            fontSize: '16px',
                            color: '#424770',
                            '::placeholder': {
                                color: '#aab7c4',
                            },
                        },
                    };
                    
                    card = elements.create('card', {style: style});
                    card.mount('#card-element');
                    
                    // Ïπ¥Îìú Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
                    card.addEventListener('change', function(event) {
                        const displayError = document.getElementById('paymentError');
                        if (event.error) {
                            displayError.textContent = event.error.message;
                            displayError.style.display = 'block';
                        } else {
                            displayError.style.display = 'none';
                        }
                    });
                } else {
                    console.log('Îç∞Î™® Î™®Îìú: Stripe ÏóÜÏù¥ Ïã§Ìñâ');
                }
            } catch (error) {
                console.warn('Stripe Ï¥àÍ∏∞Ìôî Ïã§Ìå® (Îç∞Î™® Î™®Îìú):', error.message);
                // Îç∞Î™® Î™®ÎìúÏóêÏÑúÎäî Stripe ÏóÜÏù¥ÎèÑ ÎèôÏûë
            }
        }

        // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌëúÏãú
        function showCategory(category) {
            currentCategory = category;
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            renderProducts();
        }

        // ÏÉÅÌíà Î†åÎçîÎßÅ
        function renderProducts() {
            const container = document.getElementById('productsContainer');
            let productsToShow = [];

            if (currentCategory === 'all') {
                productsToShow = [...products.domains, ...products.agents, ...products.bundles];
            } else {
                productsToShow = products[currentCategory] || [];
            }

            container.innerHTML = productsToShow.map(product => `
                <div class="product-card">
                    <div class="product-badge ${product.type}">${product.type.toUpperCase()}</div>
                    <div class="product-title">${product.name}</div>
                    <div class="product-description">${product.description}</div>
                    <ul class="product-features">
                        ${product.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                    <div class="product-price">
                        <div>
                            <span class="original-price">$${product.originalPrice}</span>
                            <span class="price">$${product.price}/Ïõî</span>
                        </div>
                    </div>
                    <button class="subscribe-btn" onclick="addToCart('${product.id}')">
                        üõí Ïû•Î∞îÍµ¨Îãà Îã¥Í∏∞
                    </button>
                </div>
            `).join('');
        }

        // Ïû•Î∞îÍµ¨ÎãàÏóê Ï∂îÍ∞Ä
        function addToCart(productId) {
            const allProducts = [...products.domains, ...products.agents, ...products.bundles];
            const product = allProducts.find(p => p.id === productId);
            
            if (product && !cart.find(item => item.id === productId)) {
                cart.push(product);
                updateCartDisplay();
                
                // Ï∂îÍ∞Ä ÏïåÎ¶º
                alert(`‚úÖ ${product.name}Ïù¥(Í∞Ä) Ïû•Î∞îÍµ¨ÎãàÏóê Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§!`);
            } else if (cart.find(item => item.id === productId)) {
                alert('‚ö†Ô∏è Ïù¥ÎØ∏ Ïû•Î∞îÍµ¨ÎãàÏóê ÏûàÎäî ÏÉÅÌíàÏûÖÎãàÎã§.');
            }
        }

        // Ïû•Î∞îÍµ¨Îãà ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            
            cartCount.textContent = cart.length;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<small style="opacity: 0.7;">Ïû•Î∞îÍµ¨ÎãàÍ∞Ä ÎπÑÏñ¥ÏûàÏäµÎãàÎã§</small>';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div style="margin: 5px 0; padding: 5px; background: rgba(255,255,255,0.1); border-radius: 5px; font-size: 0.9em;">
                        <strong>${item.name}</strong><br>
                        <span style="color: #2ecc71;">$${item.price}/Ïõî</span>
                        <button onclick="removeFromCart('${item.id}')" style="float: right; background: #e74c3c; color: white; border: none; border-radius: 3px; padding: 2px 6px; cursor: pointer;">√ó</button>
                    </div>
                `).join('');
            }
        }

        // Ïû•Î∞îÍµ¨ÎãàÏóêÏÑú Ï†úÍ±∞
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
        }

        // Í≤∞Ï†ú ÌéòÏù¥ÏßÄ ÌëúÏãú
        function showCheckout() {
            if (cart.length === 0) {
                alert('‚ö†Ô∏è Ïû•Î∞îÍµ¨ÎãàÍ∞Ä ÎπÑÏñ¥ÏûàÏäµÎãàÎã§.');
                return;
            }

            const checkoutSection = document.getElementById('checkoutSection');
            const orderSummary = document.getElementById('orderSummary');
            const totalPrice = document.getElementById('totalPrice');

            // Ï£ºÎ¨∏ ÏöîÏïΩ
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            
            orderSummary.innerHTML = cart.map(item => `
                <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(255,255,255,0.1); margin: 5px 0; border-radius: 8px;">
                    <span>${item.name}</span>
                    <span>$${item.price}/Ïõî</span>
                </div>
            `).join('');

            totalPrice.textContent = `Ï¥ù Í∏àÏï°: $${total}/Ïõî`;
            
            checkoutSection.classList.remove('hidden');
            checkoutSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Í≤∞Ï†ú Î∞©Î≤ï ÏÑ†ÌÉù
        function selectPaymentMethod(method, element) {
            selectedPaymentMethod = method;
            
            // Î™®Îì† Í≤∞Ï†ú Î∞©Î≤ï ÏÑ†ÌÉù Ìï¥Ï†ú
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            
            // Í≤∞Ï†ú Ìèº ÌëúÏãú/Ïà®ÍπÄ
            const cardForm = document.getElementById('cardPaymentForm');
            const bankForm = document.getElementById('bankPaymentForm');
            const submitBtn = document.getElementById('submitBtn');
            
            if (method === 'card') {
                cardForm.style.display = 'block';
                bankForm.style.display = 'none';
                submitBtn.innerHTML = 'üí≥ Ïã†Ïö©Ïπ¥ÎìúÎ°ú Í≤∞Ï†úÌïòÍ∏∞';
            } else if (method === 'paypal') {
                cardForm.style.display = 'none';
                bankForm.style.display = 'none';
                submitBtn.innerHTML = 'üíô PayPalÎ°ú Í≤∞Ï†úÌïòÍ∏∞';
            } else if (method === 'bank') {
                cardForm.style.display = 'none';
                bankForm.style.display = 'block';
                submitBtn.innerHTML = 'üè¶ Í≥ÑÏ¢åÏù¥Ï≤¥ Ïã†Ï≤≠ÌïòÍ∏∞';
            }
        }

        // Ï£ºÎ¨∏ Ï†úÏ∂ú
        document.getElementById('checkoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('customerName').value,
                email: document.getElementById('customerEmail').value,
                company: document.getElementById('customerCompany').value,
                paymentMethod: selectedPaymentMethod,
                items: cart,
                total: cart.reduce((sum, item) => sum + item.price, 0)
            };

            // Í≤∞Ï†ú Ï≤òÎ¶¨
            processPayment(formData);
        });

        // Í≤∞Ï†ú Ï≤òÎ¶¨
        async function processPayment(orderData) {
            const loadingEl = document.getElementById('paymentLoading');
            const errorEl = document.getElementById('paymentError');
            const successEl = document.getElementById('paymentSuccess');
            const submitBtn = document.getElementById('submitBtn');
            
            // Î°úÎî© ÏãúÏûë
            loadingEl.style.display = 'block';
            errorEl.style.display = 'none';
            successEl.style.display = 'none';
            submitBtn.disabled = true;
            
            try {
                if (selectedPaymentMethod === 'card') {
                    await processCardPayment(orderData);
                } else if (selectedPaymentMethod === 'paypal') {
                    await processPayPalPayment(orderData);
                } else if (selectedPaymentMethod === 'bank') {
                    await processBankTransfer(orderData);
                }
            } catch (error) {
                showError(error.message);
            } finally {
                loadingEl.style.display = 'none';
                submitBtn.disabled = false;
            }
        }
        
        // Ïã†Ïö©Ïπ¥Îìú Í≤∞Ï†ú Ï≤òÎ¶¨
        async function processCardPayment(orderData) {
            if (!stripe || !card) {
                // Îç∞Î™® Î™®Îìú: Stripe ÏóÜÏù¥ ÏãúÎÆ¨Î†àÏù¥ÏÖò
                await simulatePayment(orderData);
                return;
            }
            
            try {
                // Stripe ÌÜ†ÌÅ∞ ÏÉùÏÑ±
                const {token, error} = await stripe.createToken(card);
                
                if (error) {
                    throw new Error(error.message);
                }
                
                // Î∞±ÏóîÎìú API Ìò∏Ï∂ú
                const response = await fetch('/api/process-payment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        token: token.id,
                        amount: orderData.total * 100, // cents
                        customer: {
                            name: orderData.name,
                            email: orderData.email,
                            company: orderData.company,
                            paymentMethod: 'card'
                        },
                        items: orderData.items.map(item => ({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            type: item.type
                        }))
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.detail || 'Í≤∞Ï†ú Ï≤òÎ¶¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
                }
                
                const result = await response.json();
                showSuccess(orderData, result.subscription_id, result.status);
                
            } catch (error) {
                // Ïã§Ï†ú API Ìò∏Ï∂ú Ïã§Ìå®Ïãú Îç∞Î™® Î™®ÎìúÎ°ú Ìè¥Î∞±
                console.warn('Ïã§Ï†ú Í≤∞Ï†ú Ïã§Ìå®, Îç∞Î™® Î™®ÎìúÎ°ú Ï†ÑÌôò:', error.message);
                await simulatePayment(orderData);
            }
        }
        
        // PayPal Í≤∞Ï†ú Ï≤òÎ¶¨
        async function processPayPalPayment(orderData) {
            try {
                // Î∞±ÏóîÎìú API Ìò∏Ï∂ú
                const response = await fetch('/api/process-payment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        amount: orderData.total * 100,
                        customer: {
                            name: orderData.name,
                            email: orderData.email,
                            company: orderData.company,
                            paymentMethod: 'paypal'
                        },
                        items: orderData.items.map(item => ({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            type: item.type
                        }))
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.detail || 'PayPal Í≤∞Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
                }
                
                const result = await response.json();
                showSuccess(orderData, result.subscription_id, result.status);
                
            } catch (error) {
                console.warn('PayPal Í≤∞Ï†ú Ïã§Ìå®, Îç∞Î™® Î™®ÎìúÎ°ú Ï†ÑÌôò:', error.message);
                await simulatePayment(orderData);
            }
        }
        
        // Í≥ÑÏ¢åÏù¥Ï≤¥ Ï≤òÎ¶¨
        async function processBankTransfer(orderData) {
            try {
                // Î∞±ÏóîÎìú API Ìò∏Ï∂ú
                const response = await fetch('/api/bank-transfer', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        customer: {
                            name: orderData.name,
                            email: orderData.email,
                            company: orderData.company,
                            paymentMethod: 'bank'
                        },
                        items: orderData.items.map(item => ({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            type: item.type
                        }))
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.detail || 'Í≥ÑÏ¢åÏù¥Ï≤¥ Ïã†Ï≤≠Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
                }
                
                const result = await response.json();
                showSuccess(orderData, result.subscription_id, result.status);
                
            } catch (error) {
                console.warn('Í≥ÑÏ¢åÏù¥Ï≤¥ Ïã†Ï≤≠ Ïã§Ìå®, Îç∞Î™® Î™®ÎìúÎ°ú Ï†ÑÌôò:', error.message);
                await simulatePayment(orderData, 'pending');
            }
        }
        
        // Í≤∞Ï†ú ÏãúÎÆ¨Î†àÏù¥ÏÖò (Îç∞Î™®Ïö©)
        async function simulatePayment(orderData, status = 'completed') {
            // 2Ï¥à ÏßÄÏó∞ÏúºÎ°ú Ïã§Ï†ú Í≤∞Ï†ú Ï≤òÎ¶¨ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            const subscriptionId = 'sub_' + Math.random().toString(36).substr(2, 9);
            showSuccess(orderData, subscriptionId, status);
        }
        
        // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú
        function showSuccess(orderData, subscriptionId, status = 'completed') {
            const successEl = document.getElementById('paymentSuccess');
            const detailsEl = document.getElementById('subscriptionDetails');
            
            let statusText = status === 'pending' ? 'ÏûÖÍ∏à ÌôïÏù∏ ÎåÄÍ∏∞ Ï§ë' : 'ÌôúÏÑ±ÌôîÎê®';
            let statusColor = status === 'pending' ? '#f39c12' : '#2ecc71';
            
            detailsEl.innerHTML = `
                <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                    <p><strong>Íµ¨ÎèÖ ID:</strong> ${subscriptionId}</p>
                    <p><strong>ÏÉÅÌÉú:</strong> <span style="color: ${statusColor}">${statusText}</span></p>
                    <p><strong>Ïõî Í≤∞Ï†úÏï°:</strong> $${orderData.total}</p>
                    <p><strong>Íµ¨ÎèÖ ÏÉÅÌíà:</strong> ${orderData.items.length}Í∞ú</p>
                    ${status === 'pending' ? '<p style="color: #f39c12; margin-top: 10px;">üí° ÏûÖÍ∏à ÏôÑÎ£å ÌõÑ 24ÏãúÍ∞Ñ ÎÇ¥Ïóê ÏÑúÎπÑÏä§Í∞Ä ÌôúÏÑ±ÌôîÎê©ÎãàÎã§.</p>' : ''}
                </div>
            `;
            
            successEl.style.display = 'block';
            
            // Ïù¥Î©îÏùº Ï†ÑÏÜ°
            sendConfirmationEmail(orderData, subscriptionId, status);
            
            // Ïû•Î∞îÍµ¨Îãà Ï¥àÍ∏∞Ìôî
            setTimeout(() => {
                cart = [];
                updateCartDisplay();
                document.getElementById('checkoutSection').classList.add('hidden');
                document.getElementById('checkoutForm').reset();
                successEl.style.display = 'none';
            }, 10000); // 10Ï¥à ÌõÑ ÏûêÎèô Ï¥àÍ∏∞Ìôî
        }
        
        // ÏóêÎü¨ Î©îÏãúÏßÄ ÌëúÏãú
        function showError(message) {
            const errorEl = document.getElementById('paymentError');
            errorEl.textContent = message;
            errorEl.style.display = 'block';
        }
        
        // ÌôïÏù∏ Ïù¥Î©îÏùº Ï†ÑÏÜ°
        function sendConfirmationEmail(orderData, subscriptionId, status) {
            const emailSubject = `üéâ HYOJIN.AI Íµ¨ÎèÖ ${status === 'pending' ? 'Ïã†Ï≤≠' : 'Í≤∞Ï†ú'} ÏôÑÎ£å - ${subscriptionId}`;
            const statusText = status === 'pending' ? 'Ïã†Ï≤≠Ïù¥ Ï†ëÏàòÎêòÏóàÏäµÎãàÎã§' : 'Í≤∞Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§';
            
            const emailBody = `HYOJIN.AI Íµ¨ÎèÖ ÏÑúÎπÑÏä§ ${statusText}!

üìã Íµ¨ÎèÖ Ï†ïÎ≥¥:
üÜî Íµ¨ÎèÖ ID: ${subscriptionId}
üë§ Í≥†Í∞ùÎ™Ö: ${orderData.name}
üìß Ïù¥Î©îÏùº: ${orderData.email}
üè¢ ÌöåÏÇ¨: ${orderData.company || 'Í∞úÏù∏'}
üí≥ Í≤∞Ï†ú Î∞©Î≤ï: ${getPaymentMethodName(orderData.paymentMethod)}
üìä ÏÉÅÌÉú: ${status === 'pending' ? 'ÏûÖÍ∏à ÌôïÏù∏ ÎåÄÍ∏∞' : 'ÌôúÏÑ±ÌôîÎê®'}

üõçÔ∏è Íµ¨ÎèÖ ÏÉÅÌíà (${orderData.items.length}Í∞ú):
${orderData.items.map((item, i) => `${i+1}. ${item.name} - $${item.price}/Ïõî`).join('\n')}

üí∞ Ïõî Í≤∞Ï†ú Í∏àÏï°: $${orderData.total}
üìÖ Ïã†Ï≤≠Ïùº: ${new Date().toLocaleString('ko-KR')}

${status === 'pending' ? `
üè¶ ÏûÖÍ∏à Ï†ïÎ≥¥:
ÏùÄÌñâ: Íµ≠ÎØºÏùÄÌñâ
Í≥ÑÏ¢å: 123-456-789012
ÏòàÍ∏àÏ£º: HYOJIN.AI
ÏûÖÍ∏àÏï°: $${orderData.total}

‚ö†Ô∏è ÏûÖÍ∏à ÌõÑ Ïù¥ Ïù¥Î©îÏùºÏóê ÏûÖÍ∏àÌôïÏù∏ÏÑúÎ•º Ï≤®Î∂ÄÌïòÏó¨ ÌöåÏã†Ìï¥Ï£ºÏÑ∏Ïöî.
` : `
üéâ Ï∂ïÌïòÌï©ÎãàÎã§! Íµ¨ÎèÖÏù¥ ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.
ÔøΩ ÏÑúÎπÑÏä§ Ïù¥Ïö©: https://app.hyojin.ai
ÔøΩ Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Í∞Ä Î≥ÑÎèÑ Ïù¥Î©îÏùºÎ°ú Î∞úÏÜ°Îê©ÎãàÎã§.
`}

---
HYOJIN.AI ÏáºÌïëÎ™∞
üåê https://hyojin.ai
üìß support@hyojin.ai`;

            // Ïù¥Î©îÏùº Ïï± Ïó¥Í∏∞
            window.open(`mailto:${orderData.email}?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`, '_blank');
        }
        
        // Í≤∞Ï†ú Î∞©Î≤ï Ïù¥Î¶Ñ Î∞òÌôò
        function getPaymentMethodName(method) {
            const names = {
                'card': 'Ïã†Ïö©Ïπ¥Îìú',
                'paypal': 'PayPal',
                'bank': 'Í≥ÑÏ¢åÏù¥Ï≤¥'
            };
            return names[method] || method;
        }

        // Ï¥àÍ∏∞ Î°úÎìú
        renderProducts();
        updateCartDisplay();
    </script>
</body>
</html>
