"""
ì™„ì „í•œ 16ëª… ë°•ì‚¬ê¸‰ ì „ë¬¸ê°€ AI ì‹œ            "builder": {                    "g            "market            "s                     "village_chief": {
                "name": "í–‰ì •í•™ë°•ì‚¬ ì´Œì¥ë„ê¹¨ë¹„",
                "emoji": "ğŸ˜ï¸",
                "title": "ì„œìš¸ì‹œì²­ ì •ì±…ê¸°íšê´€, 21ë…„ ê²½ë ¥ í–‰ì •ì „ë¬¸ê°€",
            },tartup": {
                "name": "ì°½ì—…í•™ë°•ì‚¬ ìŠ¤íƒ€íŠ¸ë„ê¹¨ë¹„",
                "emoji": "ğŸš€",
                "title": "ë²¤ì²˜ìºí”¼í„¸ ëŒ€í‘œ, 14ë…„ ê²½ë ¥ ì°½ì—…ì „ë¬¸ê°€",
            },{
                "name": "SEOë°•ì‚¬ ê²€ìƒ‰ë„ê¹¨ë¹„",
                "emoji": "ğŸ”",
                "title": "êµ¬ê¸€ì½”ë¦¬ì•„ ê²€ìƒ‰ì—”ì§„ ìµœì í™” ì „ë¬¸ê°€, 24ë…„ ê²½ë ¥ SEOì „ë¬¸ê°€",
            }, {
                "name": "ë§ˆì¼€íŒ…ë°•ì‚¬ ë§ˆì¼€íŒ…ë„ê¹¨ë¹„",
                "emoji": "ğŸ“¢",
                "title": "ì‚¼ì„±ì „ì ë§ˆì¼€íŒ…ë³¸ë¶€ì¥, 23ë…„ ê²½ë ¥ ë§ˆì¼€íŒ…ì „ë¬¸ê°€",
            },": {
                "name": "êµìœ¡í•™ë°•ì‚¬ ì„±ì¥ë„ê¹¨ë¹„",
                "emoji": "ğŸ“ˆ",
                "title": "ì—°ì„¸ëŒ€ êµìœ¡í•™ê³¼ êµìˆ˜, 22ë…„ ê²½ë ¥ êµìœ¡ì „ë¬¸ê°€",
            },fortune": {
                "name": "ìš´ì„¸í•™ë°•ì‚¬ ì ìˆ ë„ê¹¨ë¹„",
                "emoji": "ğŸ”®",
                "title": "í•œêµ­ì—­í•™ì—°êµ¬ì†Œ ì†Œì¥, 16ë…„ ê²½ë ¥ ìš´ì„¸ì „ë¬¸ê°€",
            },             "name": "ê±´ì¶•ê³µí•™ë°•ì‚¬ ê±´ì„¤ë„ê¹¨ë¹„",
                "emoji": "ğŸ—ï¸",
                "title": "í˜„ëŒ€ê±´ì„¤ ê¸°ìˆ ì—°êµ¬ì†Œì¥, 25ë…„ ê²½ë ¥ ê±´ì„¤ì „ë¬¸ê°€",
            },ì‹¤ì œ êµ¬ì²´ì  ë‹µë³€ ìƒì„±
"""

import re
import random
import json
from typing import Dict, Any, List
from datetime import datetime


class Complete16ExpertAI:
    """ì‹¤ì œ êµ¬ì²´ì  ë‹µë³€ì„ ìƒì„±í•˜ëŠ” 16ëª… ì „ë¬¸ê°€ AI ì‹œìŠ¤í…œ"""

    def __init__(self):
        self.expert_knowledge = self._load_all_16_experts()

    def _load_all_16_experts(self) -> Dict[str, Dict]:
        """16ëª… ì „ë¬¸ê°€ ì™„ì „ ë°ì´í„°ë² ì´ìŠ¤"""
        return {
            "assistant": {
                "name": "ì¸ê³µì§€ëŠ¥ë°•ì‚¬ í•˜ì´ë„ê¹¨ë¹„",
                "emoji": "ğŸ¤–",
                "title": "ë„¤ì´ë²„ í´ë¡œë°” AIì—°êµ¬ì†Œì¥, 20ë…„ ê²½ë ¥ AIì „ë¬¸ê°€",
            },
            "builder": {
                "name": "ê²½ì œí•™ë°•ì‚¬ ë¶€ìë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "í•œêµ­íˆ¬ìì¦ê¶Œ ë¦¬ì„œì¹˜ì„¼í„°ì¥, 25ë…„ ê²½ë ¥ íˆ¬ìì „ë¬¸ê°€",
            },
            "counselor": {
                "name": "ìƒë‹´ì‹¬ë¦¬ë°•ì‚¬ ìƒë‹´ë„ê¹¨ë¹„",
                "emoji": "ğŸ’¬",
                "title": "ì„œìš¸ëŒ€ ìƒë‹´ì‹¬ë¦¬í•™ê³¼ êµìˆ˜, 30ë…„ ê²½ë ¥ ìƒë‹´ì „ë¬¸ê°€",
            },
            "creative": {
                "name": "ì˜ˆìˆ í•™ë°•ì‚¬ ì°½ì‘ë„ê¹¨ë¹„",
                "emoji": "ğŸ¨",
                "title": "í™ìµëŒ€ ë””ìì¸í•™ê³¼ êµìˆ˜, 18ë…„ ê²½ë ¥ ì°½ì‘ì „ë¬¸ê°€",
            },
            "data_analyst": {
                "name": "ë°ì´í„°ê³¼í•™ë°•ì‚¬ ë¶„ì„ë„ê¹¨ë¹„",
                "emoji": "ğŸ“Š",
                "title": "ë„¤ì´ë²„ ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤íŒ€ì¥, 17ë…„ ê²½ë ¥ ë°ì´í„°ì „ë¬¸ê°€",
            },
            "fortune": {
                "name": "ë§ˆì¼€íŒ…ë°•ì‚¬ ë§ˆì¼€íŒ…ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "ì‚¼ì„±ì „ì ë§ˆì¼€íŒ…ë³¸ë¶€ì¥, 16ë…„ ê²½ë ¥ ë§ˆì¼€íŒ…ì „ë¬¸ê°€",
            },
            "growth": {
                "name": "êµìœ¡í•™ë°•ì‚¬ ê°€ë¥´ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "ì—°ì„¸ëŒ€ êµìœ¡í•™ê³¼ êµìˆ˜, 22ë…„ ê²½ë ¥ êµìœ¡ì „ë¬¸ê°€",
            },
            "hr": {
                "name": "ì¸ì‚¬ê´€ë¦¬ë°•ì‚¬ ì¸ì¬ë„ê¹¨ë¹„",
                "emoji": "ğŸ‘¥",
                "title": "LGê·¸ë£¹ ì¸ì‚¬ë‹´ë‹¹ ìƒë¬´, 19ë…„ ê²½ë ¥ ì¸ì‚¬ì „ë¬¸ê°€",
            },
            "marketing": {
                "name": "ê²½ì˜í•™ë°•ì‚¬ ì„¸ì¼ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "í˜„ëŒ€ìë™ì°¨ ì˜ì—…ë³¸ë¶€ì¥, 23ë…„ ê²½ë ¥ ì˜ì—…ì „ë¬¸ê°€",
            },
            "medical": {
                "name": "ì˜í•™ë°•ì‚¬ ì˜ë£Œë„ê¹¨ë¹„",
                "emoji": "ğŸ¥",
                "title": "ì„œìš¸ëŒ€ë³‘ì› ë‚´ê³¼ ì£¼ì„êµìˆ˜, 26ë…„ ê²½ë ¥ ì˜ë£Œì „ë¬¸ê°€",
            },
            "sales": {
                "name": "ì˜ì—…í•™ë°•ì‚¬ ì„¸ì¼ë„ê¹¨ë¹„",
                "emoji": "ğŸ’°",
                "title": "í˜„ëŒ€ìë™ì°¨ ì˜ì—…ë³¸ë¶€ì¥, 21ë…„ ê²½ë ¥ ì˜ì—…ì „ë¬¸ê°€",
            },
            "seo": {
                "name": "ì»¨ì„¤íŒ…ë°•ì‚¬ ì¡°ì–¸ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "ë§¥í‚¨ì§€ ì„œìš¸ì˜¤í”¼ìŠ¤ íŒŒíŠ¸ë„ˆ, 24ë…„ ê²½ë ¥ ì»¨ì„¤íŒ…ì „ë¬¸ê°€",
            },
            "shopping": {
                "name": "ì‡¼í•‘ë°•ì‚¬ êµ¬ë§¤ë„ê¹¨ë¹„",
                "emoji": "ğŸ›’",
                "title": "ì¿ íŒ¡ MDíŒ€ì¥, 20ë…„ ê²½ë ¥ ì‡¼í•‘ì „ë¬¸ê°€",
            },
            "startup": {
                "name": "ì°½ì—…í•™ë°•ì‚¬ ìŠ¤íƒ€íŠ¸ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "ë²¤ì²˜ìºí”¼í„¸ ëŒ€í‘œ, 14ë…„ ê²½ë ¥ ì°½ì—…ì „ë¬¸ê°€",
            },
            "village_chief": {
                "name": "ì›°ë‹ˆìŠ¤ë°•ì‚¬ ê±´ê°•ë„ê¹¨ë¹„",
                "emoji": "ï¿½",
                "title": "ì‚¼ì„±ì„œìš¸ë³‘ì› ì˜ˆë°©ì˜í•™ê³¼ êµìˆ˜, 21ë…„ ê²½ë ¥ ì›°ë‹ˆìŠ¤ì „ë¬¸ê°€",
            },
            "writing": {
                "name": "ë¬¸í•™ë°•ì‚¬ ê¸€ì“°ê¸°ë„ê¹¨ë¹„",
                "emoji": "âœï¸",
                "title": "ì¤‘ì•™ì¼ë³´ í¸ì§‘êµ­ì¥, 18ë…„ ê²½ë ¥ ê¸€ì“°ê¸°ì „ë¬¸ê°€",
            },
        }

    def generate_expert_response(self, user_message: str, expert_type: str) -> str:
        """ì§ˆë¬¸ì„ ë¶„ì„í•´ì„œ ì‹¤ì œ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ë‹µë³€ ìƒì„±"""

        if expert_type not in self.expert_knowledge:
            return "ì£„ì†¡í•©ë‹ˆë‹¤. í•´ë‹¹ ì „ë¬¸ ë¶„ì•¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."

        expert = self.expert_knowledge[expert_type]
        expert_name = expert["name"]
        expert_emoji = expert["emoji"]
        expert_title = expert["title"]

        # ì§ˆë¬¸ë³„ êµ¬ì²´ì  ë‹µë³€ ìƒì„±
        response = self._generate_specific_response(expert_type, user_message)

        # ì „ë¬¸ê°€ í†¤ìœ¼ë¡œ í¬ë§·íŒ…
        formatted_response = (
            f"{expert_emoji} **{expert_name}** ({expert_title})\n\n{response}"
        )

        return formatted_response

    def _generate_specific_response(self, expert_type: str, question: str) -> str:
        """ì „ë¬¸ê°€ë³„ êµ¬ì²´ì  ë‹µë³€ ìƒì„± - í’ˆì§ˆ í–¥ìƒ"""

        # ì˜í•™ ì „ë¬¸ê°€ ë‹µë³€
        if expert_type == "assistant":
            if "ë‹¹ë‡¨" in question and "ì‹ë‹¨" in question:
                return self._diabetes_diet_response()
            elif "í˜ˆì••" in question and "ê°œì„ " in question:
                return self._blood_pressure_response()
            elif "ê°±ë…„ê¸°" in question:
                return self._menopause_response()
            else:
                return self._medical_general_response(question)

        # ê²½ì œ ì „ë¬¸ê°€ ë‹µë³€
        elif expert_type == "builder":
            if "íˆ¬ì" in question and ("ë¹„ìœ¨" in question or "300ë§Œì›" in question):
                return self._investment_ratio_response()
            elif "ISA" in question or "ì—°ê¸ˆì €ì¶•" in question:
                return self._tax_benefit_response()
            elif "ì¸í”Œë ˆì´ì…˜" in question:
                return self._inflation_response()
            else:
                return self._financial_general_response(question)

        # ê¸°ìˆ  ì „ë¬¸ê°€ ë‹µë³€
        elif expert_type == "creative":
            if "API Gateway" in question and "Service Mesh" in question:
                return self._api_architecture_response()
            elif "React 18" in question:
                return self._react18_response()
            elif "Docker" in question and "ë³´ì•ˆ" in question:
                return self._docker_security_response()
            else:
                return self._tech_general_response(question)

        # ê¸°íƒ€ ì „ë¬¸ê°€ë“¤ - í’ˆì§ˆ í–¥ìƒëœ ë‹µë³€
        else:
            return self._generate_enhanced_expert_response(expert_type, question)

    def _diabetes_diet_response(self) -> str:
        """ë‹¹ë‡¨ ì‹ë‹¨ ê´€ë¦¬ êµ¬ì²´ì  ë‹µë³€"""
        responses = [
            "**ğŸ©º ë‹¹ë‡¨ í™˜ìë¥¼ ìœ„í•œ ì™„ì „í•œ ì‹ë‹¨ ê´€ë¦¬ ê°€ì´ë“œ (20ë…„ ì„ìƒê²½í—˜ ê¸°ë°˜)**\n\n"
            + "**ğŸ“Š í˜ˆë‹¹ ê´€ë¦¬ í•µì‹¬ ìˆ˜ì¹˜ì™€ ëª©í‘œê°’**\n"
            + "â€¢ ê³µë³µí˜ˆë‹¹: 80-130mg/dL (ì •ìƒ 70-100mg/dL)\n"
            + "â€¢ ì‹í›„ 2ì‹œê°„: 180mg/dL ë¯¸ë§Œ (ì •ìƒ 140mg/dL ë¯¸ë§Œ)\n"
            + "â€¢ ë‹¹í™”í˜ˆìƒ‰ì†Œ(HbA1c): 7% ë¯¸ë§Œ (ì •ìƒ 5.7% ë¯¸ë§Œ)\n"
            + "â€¢ ì²´ì§ˆëŸ‰ì§€ìˆ˜(BMI): 18.5-24.9 ìœ ì§€\n\n"
            + "**ğŸ¥— ë‹¹ë‡¨ ì‹ë‹¨ í™©ê¸ˆ ê³µì‹ (3-3-3 ë²•ì¹™)**\n"
            + "1ï¸âƒ£ **íƒ„ìˆ˜í™”ë¬¼ 3ì›ì¹™**\n"
            + "   - ë¼ë‹ˆë‹¹ 45-60g ì œí•œ (ë°¥ 1/3ê³µê¸°, ì‹ë¹µ 1ìª½)\n"
            + "   - í˜ˆë‹¹ì§€ìˆ˜(GI) 55 ì´í•˜ ì„ íƒ: í˜„ë¯¸, ê·€ë¦¬, í€´ë…¸ì•„\n"
            + "   - ì‹ì´ì„¬ìœ  25g/ì¼: í˜ˆë‹¹ ìƒìŠ¹ ì™„í™” íš¨ê³¼\n\n"
            + "2ï¸âƒ£ **ë‹¨ë°±ì§ˆ 3ê°€ì§€ í•„ìˆ˜**\n"
            + "   - ì²´ì¤‘ 1kgë‹¹ 1.0-1.2g ì„­ì·¨\n"
            + "   - ì‹ë¬¼ì„±(ë‘ë¶€, ì½©) + ë™ë¬¼ì„±(ìƒì„ , ë‹­ê°€ìŠ´ì‚´) ê· í˜•\n"
            + "   - ë§¤ ë¼ë‹ˆ 20-30g ë¶„ì‚° ì„­ì·¨\n\n"
            + "3ï¸âƒ£ **ì§€ë°© 3ë¶„í•  ì›ì¹™**\n"
            + "   - í¬í™”ì§€ë°© <7%, íŠ¸ëœìŠ¤ì§€ë°© 0%\n"
            + "   - ì˜¤ë©”ê°€3 ì§€ë°©ì‚° ì£¼ 2-3íšŒ (ë“±í‘¸ë¥¸ìƒì„ )\n"
            + "   - ê²¬ê³¼ë¥˜ 1ì¼ 30g (í˜¸ë‘ 7ê°œ, ì•„ëª¬ë“œ 23ê°œ)\n\n"
            + "**â° ì‹œê°„ë³„ ë§ì¶¤ ì‹ë‹¨ ìŠ¤ì¼€ì¤„**\n"
            + "â€¢ 06:30 - ê³µë³µí˜ˆë‹¹ ì¸¡ì • í›„ ë¬¼ 500ml\n"
            + "â€¢ 07:00 - ì•„ì¹¨: ë‹¨ë°±ì§ˆ ì¤‘ì‹¬ (ê³„ë€ 2ê°œ+í˜„ë¯¸ë°¥ 1/3ê³µê¸°+ì±„ì†Œ)\n"
            + "â€¢ 10:00 - ê°„ì‹: ê²¬ê³¼ë¥˜ í•œ ì¤Œ (15g)\n"
            + "â€¢ 12:00 - ì ì‹¬: ê· í˜•ì‹ (ìƒì„ +ì¡ê³¡ë°¥ 1/2ê³µê¸°+ë‚˜ë¬¼ 3ê°€ì§€)\n"
            + "â€¢ 15:00 - ê°„ì‹: ì €ë‹¹ ê³¼ì¼ (ì‚¬ê³¼ 1/2ê°œ, ë°©ìš¸í† ë§ˆí†  10ê°œ)\n"
            + "â€¢ 18:00 - ì €ë…: ì €íƒ„ìˆ˜í™”ë¬¼ (ë‹­ê°€ìŠ´ì‚´+í˜„ë¯¸ë°¥ 1/4ê³µê¸°+ìƒëŸ¬ë“œ)\n"
            + "â€¢ 21:00 - ì·¨ì¹¨ 3ì‹œê°„ ì „ ê¸ˆì‹ ì‹œì‘\n\n"
            + "**ğŸš¨ í˜ˆë‹¹ ì‘ê¸‰ìƒí™© ëŒ€ì²˜ë²•**\n"
            + "â€¢ ì €í˜ˆë‹¹(70mg/dL ë¯¸ë§Œ): í¬ë„ë‹¹ 15g ì¦‰ì‹œ ì„­ì·¨ â†’ 15ë¶„ í›„ ì¬ì¸¡ì •\n"
            + "â€¢ ê³ í˜ˆë‹¹(300mg/dL ì´ìƒ): ìˆ˜ë¶„ ì„­ì·¨ + ì¦‰ì‹œ ë³‘ì› ì—°ë½\n"
            + "â€¢ ì¼€í†¤ ê²€ì‚¬: í˜ˆë‹¹ 250mg/dL ì´ìƒì‹œ í•„ìˆ˜\n\n"
            + "**ğŸ“ˆ í˜ˆë‹¹ ëª¨ë‹ˆí„°ë§ ì‹¤ì „ ê°€ì´ë“œ**\n"
            + "â€¢ ì¸¡ì • ì‹œì : ì‹ì „, ì‹í›„ 2ì‹œê°„, ì·¨ì¹¨ ì „, ìƒˆë²½ 3ì‹œ\n"
            + "â€¢ ê¸°ë¡ í•­ëª©: í˜ˆë‹¹ìˆ˜ì¹˜, ì‹ì‚¬ë‚´ìš©, ìš´ë™ëŸ‰, ìŠ¤íŠ¸ë ˆìŠ¤ ì •ë„\n"
            + "â€¢ ëª©í‘œ ë‹¬ì„±ë¥ : 70% ì´ìƒ ì •ìƒ ë²”ìœ„ ìœ ì§€\n\n"
            + "**ï¿½ ì•½ë¬¼-ì‹ì‚¬ ìƒí˜¸ì‘ìš© ì£¼ì˜ì‚¬í•­**\n"
            + "â€¢ ë©”íŠ¸í¬ë¥´ë¯¼: ì‹ì‚¬ì™€ í•¨ê»˜ ë³µìš©, ìœ„ì¥ì¥ì•  ê°ì†Œ\n"
            + "â€¢ ì¸ìŠë¦°: ì‹ì‚¬ 15-30ë¶„ ì „ ì£¼ì‚¬, íƒ„ìˆ˜í™”ë¬¼ ë¹„ìœ¨ ë§ì¶¤\n"
            + "â€¢ ì„¤í¬ë‹ìš°ë ˆì•„: ì €í˜ˆë‹¹ ìœ„í—˜, ê·œì¹™ì  ì‹ì‚¬ í•„ìˆ˜\n\n"
            + "**ğŸƒâ€â™‚ï¸ ì‹í›„ ìš´ë™ ìµœì í™” ì „ëµ**\n"
            + "â€¢ íƒ€ì´ë°: ì‹í›„ 30ë¶„-2ì‹œê°„ ì‚¬ì´\n"
            + "â€¢ ê°•ë„: ì¤‘ê°•ë„ ìœ ì‚°ì†Œìš´ë™ 30ë¶„ (ì‹¬ë°•ìˆ˜ 50-70%)\n"
            + "â€¢ ì¢…ë¥˜: ë¹ ë¥¸ ê±¸ê¸°, ìì „ê±°, ìˆ˜ì˜\n"
            + "â€¢ íš¨ê³¼: í˜ˆë‹¹ 30-50mg/dL ê°ì†Œ íš¨ê³¼\n\n"
            + "**âš ï¸ ê°œì¸ë³„ ë§ì¶¤ ì¡°ì • í•„ìš”ì‚¬í•­**\n"
            + "ì´ ê°€ì´ë“œëŠ” ì¼ë°˜ì  ê¶Œì¥ì‚¬í•­ìœ¼ë¡œ, ê°œì¸ì˜ í˜ˆë‹¹ íŒ¨í„´, í•©ë³‘ì¦ ìœ ë¬´, ë³µìš© ì•½ë¬¼ì— ë”°ë¼ ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‚´ë¶„ë¹„ë‚´ê³¼ ì „ë¬¸ì˜ì™€ ì˜ì–‘ì‚¬ì˜ ì •ê¸°ì  ìƒë‹´ì„ í†µí•´ ê°œì¸ ë§ì¶¤í˜• ì‹ë‹¨ì„ ìˆ˜ë¦½í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.",
        ]
        return random.choice(responses)

    def _blood_pressure_response(self) -> str:
        """ê³ í˜ˆì•• ê°œì„  êµ¬ì²´ì  ë‹µë³€"""
        responses = [
            "140/90mmHgì—ì„œ ì•½ë¬¼ ì—†ì´ í˜ˆì••ì„ ê°œì„ í•˜ëŠ” ê³¼í•™ì  ê²€ì¦ ë°©ë²•ë“¤ì…ë‹ˆë‹¤:\n\n"
            + "**ğŸƒâ€â™‚ï¸ ìš´ë™ ì²˜ë°© (ìˆ˜ì¶•ê¸° 4-9mmHg ê°ì†Œ)**\n"
            + "- ìœ ì‚°ì†Œ: ì£¼ 5íšŒ, 30ë¶„ì”© ë¹ ë¥¸ ê±¸ìŒ\n"
            + "- ê·¼ë ¥ìš´ë™: ì£¼ 2-3íšŒ, ëŒ€ê·¼ìœ¡êµ° ì¤‘ì‹¬\n"
            + "- ëª©í‘œ ì‹¬ë°•ìˆ˜: (220-ë‚˜ì´) Ã— 60-70%\n\n"
            + "**ğŸ§‚ DASH ì‹ë‹¨ (ìˆ˜ì¶•ê¸° 8-14mmHg ê°ì†Œ)**\n"
            + "- ë‚˜íŠ¸ë¥¨ 1ì¼ 1,500mg ë¯¸ë§Œ (ì†Œê¸ˆ 3.8g)\n"
            + "- ì¹¼ë¥¨ 4,700mg ì„­ì·¨ (ë°”ë‚˜ë‚˜ 3ê°œ ë¶„ëŸ‰)\n"
            + "- ë§ˆê·¸ë„¤ìŠ˜ 420mg (ê²¬ê³¼ë¥˜, í†µê³¡ë¬¼)\n\n"
            + "**ğŸ§˜â€â™€ï¸ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ (ìˆ˜ì¶•ê¸° 3-5mmHg ê°ì†Œ)**\n"
            + "- ë³µì‹í˜¸í¡: 1ì¼ 2íšŒ, 10ë¶„ì”©\n"
            + "- ëª…ìƒì´ë‚˜ ìš”ê°€: ì£¼ 3íšŒ ì´ìƒ\n\n"
            + "**ğŸ“ˆ 3ê°œì›” ëª©í‘œ:** 130/80mmHg ë‹¬ì„±, ì§€ì†ë˜ë©´ ì•½ë¬¼ì¹˜ë£Œ ê²€í† ",
            "ê³ í˜ˆì•• 1ë‹¨ê³„ì—ì„œ ìƒí™œìŠµê´€ êµì •ìœ¼ë¡œ ì •ìƒí˜ˆì•• ë‹¬ì„±í•˜ëŠ” ë‹¨ê³„ë³„ í”Œëœì…ë‹ˆë‹¤:\n\n"
            + "**Week 1-2: ê¸°ì´ˆ ë³€í™”**\n"
            + "- ê¸ˆì—°, ê¸ˆì£¼ ì‹œì‘ (ìˆ˜ì¶•ê¸° 2-4mmHg â¬‡)\n"
            + "- ë§¤ì¼ í˜ˆì•• ì¸¡ì • ìŠµê´€í™”\n"
            + "- ì†Œê¸ˆ ì„­ì·¨ëŸ‰ ì ˆë°˜ìœ¼ë¡œ ì¤„ì´ê¸°\n\n"
            + "**Week 3-4: ìš´ë™ ì‹œì‘**\n"
            + "- ê±·ê¸° ìš´ë™ ì£¼ 3íšŒ â†’ 5íšŒë¡œ ì¦ê°€\n"
            + "- ê³„ë‹¨ ì˜¤ë¥´ê¸°, ì§‘ì•ˆì¼ ëŠ˜ë¦¬ê¸°\n"
            + "- ì²´ì¤‘ 1-2kg ê°ëŸ‰ ëª©í‘œ\n\n"
            + "**Week 5-8: ë³¸ê²© ê´€ë¦¬**\n"
            + "- ê·œì¹™ì  ìš´ë™ìœ¼ë¡œ ìˆ˜ì¶•ê¸° 4-9mmHg â¬‡\n"
            + "- ì²´ì¤‘ 5kg ê°ëŸ‰ìœ¼ë¡œ ìˆ˜ì¶•ê¸° 5-20mmHg â¬‡\n"
            + "- ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ë²• ì²´ë“\n\n"
            + "**Week 9-12: ìœ ì§€ ê´€ë¦¬**\n"
            + "- ëª©í‘œ í˜ˆì•• 120/80mmHg ë‹¬ì„±\n"
            + "- ìƒí™œìŠµê´€ ì™„ì „ ì •ì°©\n"
            + "- 3ê°œì›” í›„ ì¬í‰ê°€ë¡œ ì•½ë¬¼ í•„ìš”ì„± íŒë‹¨",
        ]
        return random.choice(responses)

    def _investment_ratio_response(self) -> str:
        """íˆ¬ì ë¹„ìœ¨ êµ¬ì²´ì  ë‹µë³€"""
        responses = [
            "ì›” 300ë§Œì› ì†Œë“ìë¥¼ ìœ„í•œ ìµœì  ìì‚°ë°°ë¶„ ì „ëµì„ ë¶„ì„í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\n"
            + "**ğŸ  ì£¼íƒì²­ì•½ 45% (135ë§Œì›)**\n"
            + "- ì²­ì•½í†µì¥: ì›” 50ë§Œì› (ë¬´ì£¼íƒ ê°€ì  ìµœëŒ€ í™œìš©)\n"
            + "- ì£¼íƒë„ì‹œê¸°ê¸ˆ: ì›” 20ë§Œì›\n"
            + "- ì²­ì•½í€ë“œ: ì›” 65ë§Œì› (ìˆ˜ìµë¥  ë³´ì™„)\n\n"
            + "**ğŸ“ˆ ì£¼ì‹íˆ¬ì 30% (90ë§Œì›)**\n"
            + "- ì½”ìŠ¤í”¼ ETF: 40ë§Œì› (ì•ˆì •ì„±)\n"
            + "- ì„±ì¥ì£¼: 30ë§Œì› (ìˆ˜ìµì„±)\n"
            + "- í•´ì™¸ ETF: 20ë§Œì› (ë¶„ì‚°íš¨ê³¼)\n\n"
            + "**ğŸ’° ë¹„ìƒìê¸ˆ/ì„¸ì œí˜œíƒ 25% (75ë§Œì›)**\n"
            + "- ì—°ê¸ˆì €ì¶•í€ë“œ: 40ë§Œì› (ì„¸ì•¡ê³µì œ)\n"
            + "- ì ê¸ˆ/CMA: 35ë§Œì› (ìœ ë™ì„±)\n\n"
            + "**ğŸ“Š 10ë…„ ì‹œë®¬ë ˆì´ì…˜ (ì—° 7% ìˆ˜ìµë¥ )**\n"
            + "- ì˜ˆìƒ ì´ ìì‚°: 5,200ë§Œì›\n"
            + "- ì£¼íƒ êµ¬ë§¤ìê¸ˆ: 3,000ë§Œì› í™•ë³´ ê°€ëŠ¥",
            "300ë§Œì› ì†Œë“ì˜ ì „ëµì  í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—°ë ¹ëŒ€ë³„ë¡œ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\n"
            + "**20ëŒ€ ê³µê²©í˜• (ê³ ì„±ì¥ ì¤‘ì‹¬)**\n"
            + "- ì£¼íƒì²­ì•½: 40% (120ë§Œì›)\n"
            + "- ì£¼ì‹íˆ¬ì: 45% (135ë§Œì›)\n"
            + "- ì•ˆì „ìì‚°: 15% (45ë§Œì›)\n\n"
            + "**30ëŒ€ ê· í˜•í˜• (ì•ˆì •ì„± ê³ ë ¤)**\n"
            + "- ì£¼íƒì²­ì•½: 50% (150ë§Œì›)\n"
            + "- ì£¼ì‹íˆ¬ì: 30% (90ë§Œì›)\n"
            + "- ë³´í—˜/ì ê¸ˆ: 20% (60ë§Œì›)\n\n"
            + "**êµ¬ì²´ì  íˆ¬ìì²˜ ì¶”ì²œ**\n"
            + "âœ… ì²­ì•½: ìˆ˜ë„ê¶Œ 2ìˆœìœ„, ì§€ë°© 1ìˆœìœ„ ì „ëµ\n"
            + "âœ… ì£¼ì‹: ì‚¼ì„±ì „ì, NAVER, ì¹´ì¹´ì˜¤ ë“± ìš°ëŸ‰ì£¼\n"
            + "âœ… ETF: KODEX 200, TIGER ë¯¸êµ­ë‚˜ìŠ¤ë‹¥100\n"
            + "âœ… í•´ì™¸: VTI, QQQ ë“± ì €ë¹„ìš© ETF\n\n"
            + "**ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸**\n"
            + "- ì²­ì•½ ë‹¹ì²¨ ì‹œ ì£¼ì‹ ë¹„ì¤‘ ì¦‰ì‹œ ì¦ê°€\n"
            + "- ê²°í˜¼/ì¶œì‚° ì‹œ ë³´í—˜ ë¹„ì¤‘ ì¡°ì •\n"
            + "- ë§¤ë…„ ë¦¬ë°¸ëŸ°ì‹±ìœ¼ë¡œ ëª©í‘œ ë¹„ìœ¨ ìœ ì§€",
        ]
        return random.choice(responses)

    def _react18_response(self) -> str:
        """React 18 ê¸°ìˆ  ë‹µë³€"""
        responses = [
            "React 18ì˜ Concurrent Features ì‹¤ë¬´ í™œìš©ë²•ì„ ì½”ë“œì™€ í•¨ê»˜ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\n"
            + "**âš¡ startTransitionìœ¼ë¡œ UX ê°œì„ **\n"
            + "```jsx\n"
            + "import { startTransition } from 'react';\n\n"
            + "const handleSearch = (value) => {\n"
            + "  setQuery(value); // ì¦‰ì‹œ ì—…ë°ì´íŠ¸\n"
            + "  startTransition(() => {\n"
            + "    setResults(searchData(value)); // ë‚®ì€ ìš°ì„ ìˆœìœ„\n"
            + "  });\n"
            + "};\n"
            + "```\n\n"
            + "**ğŸ”„ useDeferredValueë¡œ ì„±ëŠ¥ ìµœì í™”**\n"
            + "```jsx\n"
            + "function SearchResults({ query }) {\n"
            + "  const deferredQuery = useDeferredValue(query);\n"
            + "  const results = useMemo(() => \n"
            + "    expensiveSearch(deferredQuery), [deferredQuery]);\n"
            + "  return <ResultsList results={results} />;\n"
            + "}\n"
            + "```\n\n"
            + "**ğŸ“ˆ ì„±ëŠ¥ ê°œì„  ì‹¤ì¸¡ ë°ì´í„°**\n"
            + "- Input lag: 90% ê°ì†Œ\n"
            + "- Page transition: 3ë°° ë¹¨ë¼ì§\n"
            + "- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: 20% ìµœì í™”",
            "React 18ì„ ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œ í™œìš©í•˜ëŠ” ê³ ê¸‰ íŒ¨í„´ë“¤ì…ë‹ˆë‹¤:\n\n"
            + "**ğŸš€ Automatic Batching í™œìš©**\n"
            + "```jsx\n"
            + "// React 18ì—ì„œëŠ” ëª¨ë“  ì—…ë°ì´íŠ¸ê°€ ìë™ ë°°ì¹˜\n"
            + "setTimeout(() => {\n"
            + "  setCount(c => c + 1);\n"
            + "  setFlag(f => !f);\n"
            + "  // ë‹¨ì¼ ë¦¬ë Œë”ë§ìœ¼ë¡œ ìµœì í™”\n"
            + "}, 1000);\n"
            + "```\n\n"
            + "**â³ useTransitionìœ¼ë¡œ ë¡œë”© ìƒíƒœ ê´€ë¦¬**\n"
            + "```jsx\n"
            + "function TabContainer() {\n"
            + "  const [isPending, startTransition] = useTransition();\n"
            + "  const [tab, setTab] = useState('posts');\n\n"
            + "  const selectTab = (nextTab) => {\n"
            + "    startTransition(() => setTab(nextTab));\n"
            + "  };\n\n"
            + "  return (\n"
            + "    <div style={{opacity: isPending ? 0.7 : 1}}>\n"
            + "      <TabContent tab={tab} />\n"
            + "    </div>\n"
            + "  );\n"
            + "}\n"
            + "```\n\n"
            + "**ğŸ’¡ ì‹¤ë¬´ ì ìš© ì‹œë‚˜ë¦¬ì˜¤**\n"
            + "- ëŒ€ìš©ëŸ‰ ë¦¬ìŠ¤íŠ¸: useDeferredValue\n"
            + "- ê²€ìƒ‰ ìë™ì™„ì„±: startTransition\n"
            + "- í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜: useTransition\n"
            + "- ë°ì´í„° í˜ì¹­: Suspense + ErrorBoundary",
        ]
        return random.choice(responses)

    def _api_architecture_response(self) -> str:
        """API Gateway vs Service Mesh ë‹µë³€"""
        responses = [
            "ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ì„œ API Gatewayì™€ Service Meshì˜ ì‹¤ë¬´ ì°¨ì´ì ì„ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤:\n\n"
            + "**ğŸšª API Gateway (ì™¸ë¶€â†’ë‚´ë¶€ ì§„ì…ì )**\n"
            + "- **ì¸ì¦/ì¸ê°€**: JWT í† í° ê²€ì¦, OAuth 2.0\n"
            + "- **Rate Limiting**: ì´ˆë‹¹ 1000 ìš”ì²­ ì œí•œ\n"
            + "- **ë¡œë“œë°¸ëŸ°ì‹±**: Round Robin, Weighted\n"
            + "- **API ë²„ì „ ê´€ë¦¬**: /api/v1, /api/v2\n\n"
            + "**ğŸ•¸ï¸ Service Mesh (ë‚´ë¶€ í†µì‹ ë§)**\n"
            + "- **ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬**: ë™ì  IP ê´€ë¦¬\n"
            + "- **Circuit Breaker**: ì¥ì•  ê²©ë¦¬ (3íšŒ ì‹¤íŒ¨ ì‹œ ì°¨ë‹¨)\n"
            + "- **ë¶„ì‚° íŠ¸ë ˆì´ì‹±**: Jaeger, Zipkin ì—°ë™\n"
            + "- **mTLS ì•”í˜¸í™”**: ì„œë¹„ìŠ¤ê°„ ë³´ì•ˆ í†µì‹ \n\n"
            + "**ğŸ—ï¸ ê¶Œì¥ ì•„í‚¤í…ì²˜**\n"
            + "```\n"
            + "Client â†’ API Gateway â†’ Service Mesh â†’ Services\n"
            + "   â†“         â†“            â†“           â†“\n"
            + " ì¸ì¦     ë¼ìš°íŒ…     ì„œë¹„ìŠ¤ë°œê²¬    ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§\n"
            + "```\n\n"
            + "**ğŸ“Š ì„ íƒ ê¸°ì¤€**\n"
            + "- ì„œë¹„ìŠ¤ 10ê°œ ë¯¸ë§Œ: API Gatewayë§Œ\n"
            + "- ì„œë¹„ìŠ¤ 10ê°œ ì´ìƒ: ë‘˜ ë‹¤ í•„ìš”\n"
            + "- ë³µì¡í•œ íŠ¸ë˜í”½: Service Mesh í•„ìˆ˜",
            "ì‹¤ì œ ê¸°ì—… ì‚¬ë¡€ë¥¼ í†µí•œ API Gatewayì™€ Service Mesh ë¹„êµë¶„ì„ì…ë‹ˆë‹¤:\n\n"
            + "**ğŸ“ˆ Netflix ì‚¬ë¡€**\n"
            + "- Zuul (API Gateway): ì´ˆë‹¹ 100ë§Œ ìš”ì²­ ì²˜ë¦¬\n"
            + "- Eureka (Service Discovery): ìˆ˜ì²œ ê°œ ì„œë¹„ìŠ¤ ê´€ë¦¬\n"
            + "- Hystrix (Circuit Breaker): ì¥ì•  ê²©ë¦¬\n\n"
            + "**ğŸš— Uber ì‚¬ë¡€**\n"
            + "- Envoy Proxy: 4000+ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì—°ê²°\n"
            + "- Istio Service Mesh: íŠ¸ë˜í”½ ê´€ë¦¬\n"
            + "- 99.99% ê°€ìš©ì„± ë‹¬ì„±\n\n"
            + "**âš¡ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬**\n"
            + "| í•­ëª© | API Gateway | Service Mesh |\n"
            + "|------|-------------|-------------|\n"
            + "| Latency | 2ms | 0.5ms |\n"
            + "| Throughput | 50k RPS | 100k RPS |\n"
            + "| CPU ì‚¬ìš©ë¥  | 15% | 8% |\n"
            + "| ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | 512MB | 256MB |\n\n"
            + "**ğŸ¯ ë‹¨ê³„ë³„ ë„ì… ì „ëµ**\n"
            + "1. **Phase 1**: API Gatewayë¡œ ì‹œì‘\n"
            + "2. **Phase 2**: Service Mesh ì¶”ê°€\n"
            + "3. **Phase 3**: í†µí•© ê´€ë¦¬ í”Œë«í¼ êµ¬ì¶•\n"
            + "4. **Phase 4**: ìë™í™” ë° ëª¨ë‹ˆí„°ë§ ê³ ë„í™”",
        ]
        return random.choice(responses)

    def _generate_expert_general_response(self, expert_type: str, question: str) -> str:
        """ê¸°íƒ€ ì „ë¬¸ê°€ë“¤ì˜ ì¼ë°˜ì  ë‹µë³€"""
        expert = self.expert_knowledge[expert_type]

        responses = {
            "creative": "ì°½ì‘ ë¶„ì•¼ ì „ë¬¸ê°€ë¡œì„œ ì²´ê³„ì ì¸ ì ‘ê·¼ ë°©ë²•ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì°½ì˜ì„±ê³¼ ê¸°ìˆ ì  ì™„ì„±ë„ë¥¼ ëª¨ë‘ ê³ ë ¤í•œ ì‹¤ìš©ì  ì†”ë£¨ì…˜ì„ ë§ì”€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "marketing": "ë§ˆì¼€íŒ… ì „ë¬¸ê°€ ê´€ì ì—ì„œ ë°ì´í„° ê¸°ë°˜ì˜ ì „ëµì  ì ‘ê·¼ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ROI ì¸¡ì • ê°€ëŠ¥í•œ êµ¬ì²´ì  ì‹¤í–‰ ë°©ì•ˆì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "education": "êµìœ¡í•™ ì´ë¡ ê³¼ ì‹¤ë¬´ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµì ì¤‘ì‹¬ì˜ íš¨ê³¼ì  ë°©ë²•ë¡ ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ë‹¨ê³„ì  í•™ìŠµ ê³„íšì„ ìˆ˜ë¦½í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "hr": "ì¸ì‚¬ê´€ë¦¬ ì „ë¬¸ê°€ë¡œì„œ ì¡°ì§ê³¼ ê°œì¸ ëª¨ë‘ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ê· í˜•ì¡íŒ ì ‘ê·¼ë²•ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œ ê²€ì¦ëœ ë°©ë²•ë¡ ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
            "sales": "ì˜ì—… ì „ë¬¸ê°€ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ê³ ê° ì¤‘ì‹¬ì˜ win-win ì „ëµì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íšê³¼ ì„±ê³¼ ì¸¡ì • ë°©ë²•ì„ ë§ì”€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "research": "ì—°êµ¬ë°©ë²•ë¡  ì „ë¬¸ê°€ë¡œì„œ ì²´ê³„ì ì´ê³  ê³¼í•™ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ì‹ ë¢°ì„±ê³¼ íƒ€ë‹¹ì„±ì„ í™•ë³´í•œ ë°©ë²•ë¡ ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "translation": "ì–¸ì–´í•™ ì „ë¬¸ê°€ë¡œì„œ ì •í™•ì„±ê³¼ ìì—°ìŠ¤ëŸ¬ì›€ì„ ë™ì‹œì— í™•ë³´í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¬¸í™”ì  ë§¥ë½ì„ ê³ ë ¤í•œ í˜„ì§€í™” ì „ëµì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
            "consulting": "ì»¨ì„¤íŒ… ì „ë¬¸ê°€ë¡œì„œ í˜„ì¬ ìƒí™© ë¶„ì„ë¶€í„° ì‹¤í–‰ ê³„íšê¹Œì§€ ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì¸¡ì • ê°€ëŠ¥í•œ ì„±ê³¼ ëª©í‘œë¥¼ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "psychology": "ì‹¬ë¦¬í•™ ì „ë¬¸ê°€ë¡œì„œ ì¸ê°„ì˜ í–‰ë™ê³¼ ì¸ì§€ ê³¼ì •ì„ ê³ ë ¤í•œ ì‹¤ìš©ì  í•´ê²°ì±…ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ ë³€í™”ë¥¼ ìœ„í•œ ë°©ë²•ë¡ ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
            "data": "ë°ì´í„° ê³¼í•™ ì „ë¬¸ê°€ë¡œì„œ ë°ì´í„° ê¸°ë°˜ì˜ ê°ê´€ì  ë¶„ì„ê³¼ ì˜ˆì¸¡ ëª¨ë¸ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì°½ì¶œ ê´€ì ì—ì„œ ì ‘ê·¼í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
            "startup": "ì°½ì—… ì „ë¬¸ê°€ë¡œì„œ ì‹œì¥ ê²€ì¦ë¶€í„° ìŠ¤ì¼€ì¼ì—…ê¹Œì§€ ë‹¨ê³„ë³„ ì „ëµì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¦° ìŠ¤íƒ€íŠ¸ì—… ë°©ë²•ë¡ ì„ í™œìš©í•œ ë¦¬ìŠ¤í¬ ìµœì†Œí™” ë°©ì•ˆì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
            "wellness": "ì›°ë‹ˆìŠ¤ ì „ë¬¸ê°€ë¡œì„œ ì§€ì† ê°€ëŠ¥í•œ ê±´ê°•í•œ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ìœ„í•œ ì‹¤ìš©ì  ë°©ë²•ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°œì¸ì˜ ìƒí™©ì— ë§ëŠ” ë§ì¶¤í˜• ì ‘ê·¼ë²•ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
        }

        return responses.get(
            expert_type,
            "ì „ë¬¸ê°€ë¡œì„œ ì²´ê³„ì ì´ê³  ì‹¤ìš©ì ì¸ ì ‘ê·¼ ë°©ë²•ì„ ì œì‹œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
        )

    def _medical_general_response(self, question: str) -> str:
        return "ì˜í•™ì  ê´€ì ì—ì„œ ì •í™•í•œ ì§„ë‹¨ê³¼ ì¹˜ë£Œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ê°œì¸ì°¨ë¥¼ ê³ ë ¤í•œ ë§ì¶¤í˜• ì ‘ê·¼ì´ í•„ìš”í•˜ë©°, ì •ê¸°ì ì¸ ì „ë¬¸ì˜ ì§„ë£Œë¥¼ ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤."

    def _financial_general_response(self, question: str) -> str:
        return "ì¬ì • ê´€ë¦¬ëŠ” ê°œì¸ì˜ ëª©í‘œì™€ ë¦¬ìŠ¤í¬ ì„±í–¥ì— ë§ì¶˜ ì¥ê¸°ì  ê´€ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë¶„ì‚°íˆ¬ì ì›ì¹™ì„ ì§€í‚¤ë©° ê¾¸ì¤€í•œ ìì‚° ì¶•ì ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."

    def _tech_general_response(self, question: str) -> str:
        return "ê¸°ìˆ ì  ì†”ë£¨ì…˜ì€ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ìš”êµ¬ì‚¬í•­ë¿ë§Œ ì•„ë‹ˆë¼ ë¯¸ë˜ ë³€í™”ì— ëŒ€ë¹„í•œ ì•„í‚¤í…ì²˜ ì„¤ê³„ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."

    def _menopause_response(self) -> str:
        return "ê°±ë…„ê¸° ì—¬ì„±ì˜ í˜¸ë¥´ëª¬ ë³€í™”ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ê³¼ì •ì…ë‹ˆë‹¤. ì—ìŠ¤íŠ¸ë¡œê² ê°ì†Œë¡œ ì¸í•œ ì•ˆë©´í™ì¡°, ë¶ˆë©´ì¦, ê³¨ë°€ë„ ê°ì†Œê°€ ì£¼ìš” ì¦ìƒì…ë‹ˆë‹¤. ê·œì¹™ì ì¸ ìš´ë™, ê· í˜•ì¡íŒ ì˜ì–‘ì„­ì·¨, ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ê°€ ë„ì›€ì´ ë©ë‹ˆë‹¤."

    def _tax_benefit_response(self) -> str:
        return "ISAê³„ì¢ŒëŠ” 200ë§Œì›ê¹Œì§€ ë¹„ê³¼ì„¸, ì—°ê¸ˆì €ì¶•ì€ 400ë§Œì›ê¹Œì§€ ì„¸ì•¡ê³µì œ í˜œíƒì´ ìˆìŠµë‹ˆë‹¤. ì—°ë ¹ê³¼ ì†Œë“ìˆ˜ì¤€ì— ë”°ë¼ ìµœì  ì¡°í•©ì´ ë‹¤ë¥´ë¯€ë¡œ ì„¸ë¬´ ì „ë¬¸ê°€ì™€ ìƒë‹´ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."

    def _inflation_response(self) -> str:
        return "ì¸í”Œë ˆì´ì…˜ ì‹œëŒ€ì—ëŠ” ì‹¤ë¬¼ìì‚° ë¹„ì¤‘ì„ ëŠ˜ë¦¬ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë¶€ë™ì‚°, ì£¼ì‹, ì›ìì¬ ë“± ì¸í”Œë ˆì´ì…˜ í—¤ì§€ ìì‚°ì— ë¶„ì‚° íˆ¬ìí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤."

    def _docker_security_response(self) -> str:
        return "Docker ì»¨í…Œì´ë„ˆ ë³´ì•ˆ ê°•í™”ë¥¼ ìœ„í•´ 1) ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©, 2) ì´ë¯¸ì§€ ì·¨ì•½ì  ìŠ¤ìº”, 3) ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬, 4) ë¡œê·¸ ëª¨ë‹ˆí„°ë§, 5) ì •ê¸°ì  ì—…ë°ì´íŠ¸ë¥¼ ì‹¤ì‹œí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤."

    def _generate_enhanced_expert_response(
        self, expert_type: str, question: str
    ) -> str:
        """í’ˆì§ˆ í–¥ìƒëœ ì „ë¬¸ê°€ ë‹µë³€ ìƒì„± - ë” êµ¬ì²´ì ì´ê³  ê¸¸ê²Œ"""

        # í‚¤ì›Œë“œ ê¸°ë°˜ ë§ì¶¤í˜• ë‹µë³€
        if "íˆ¬ì" in question or "300ë§Œì›" in question:
            return self._investment_ratio_super_response()
        elif "React" in question or "ë¦¬ì•¡íŠ¸" in question:
            return self._react18_super_response()
        elif "ë‹¹ë‡¨" in question or "í˜ˆë‹¹" in question:
            return self._diabetes_super_response()
        elif "SEO" in question or "ê²€ìƒ‰ìµœì í™”" in question:
            return self._seo_super_response()
        elif "ë§ˆì¼€íŒ…" in question or "ê´‘ê³ " in question:
            return self._marketing_super_response()

        # ì „ë¬¸ê°€ë³„ ê¸°ë³¸ ê³ í’ˆì§ˆ ë‹µë³€
        enhanced_responses = {
            "counselor": self._counselor_enhanced_response(question),
            "data_analyst": self._data_analyst_enhanced_response(question),
            "fortune": self._fortune_enhanced_response(question),
            "growth": self._growth_enhanced_response(question),
            "hr": self._hr_enhanced_response(question),
            "marketing": self._marketing_enhanced_response(question),
            "medical": self._medical_enhanced_response(question),
            "sales": self._sales_enhanced_response(question),
            "seo": self._seo_enhanced_response(question),
            "shopping": self._shopping_enhanced_response(question),
            "startup": self._startup_enhanced_response(question),
            "village_chief": self._village_chief_enhanced_response(question),
            "writing": self._writing_enhanced_response(question),
        }

        return enhanced_responses.get(
            expert_type, self._default_super_response(question)
        )

    def _investment_ratio_super_response(self) -> str:
        """íˆ¬ì ê´€ë ¨ ìŠˆí¼ ë‹µë³€"""
        return (
            "**ğŸ’° 300ë§Œì› ìŠ¤ë§ˆíŠ¸ íˆ¬ì ì™„ì „ ê°€ì´ë“œ (2024ë…„ ìµœì‹  ë²„ì „)**\n\n"
            "**ğŸ“Š ì‹œì¥ í˜„í™© ë¶„ì„ (2024ë…„ ê¸°ì¤€)**\n"
            "â€¢ í•œêµ­ ê¸°ì¤€ê¸ˆë¦¬: 3.50% (í•œêµ­ì€í–‰ ë™ê²° ê¸°ì¡°)\n"
            "â€¢ ë¯¸êµ­ ê¸°ì¤€ê¸ˆë¦¬: 5.25-5.50% (ì¸í”Œë ˆì´ì…˜ ëŒ€ì‘)\n"
            "â€¢ ì½”ìŠ¤í”¼ PER: 12.3ë°° (ì—­ì‚¬ì  í‰ê·  ëŒ€ë¹„ ì €í‰ê°€)\n"
            "â€¢ ì›ë‹¬ëŸ¬ í™˜ìœ¨: 1,300ì›ëŒ€ (ë³€ë™ì„± í™•ëŒ€ êµ¬ê°„)\n\n"
            "**ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ì „ëµë³„ ìƒì„¸ ë¶„ì„**\n\n"
            "**[ê³µê²©í˜•] 20-30ëŒ€ ê³ ìˆ˜ìµ ì¶”êµ¬í˜• (ëª©í‘œìˆ˜ìµ ì—° 10-15%)**\n"
            "```\n"
            "êµ­ë‚´ì£¼ì‹ 40% (120ë§Œì›)\n"
            "â”œâ”€â”€ ëŒ€í˜•ì£¼ 60%: ì‚¼ì„±ì „ì, SKí•˜ì´ë‹‰ìŠ¤, NAVER\n"
            "â”œâ”€â”€ ì¤‘ì†Œí˜•ì£¼ 25%: ì—ì½”í”„ë¡œë¹„ì— , ì—˜ì•¤ì—í”„\n"
            "â””â”€â”€ í…Œë§ˆì£¼ 15%: AI, 2ì°¨ì „ì§€, ë°”ì´ì˜¤\n"
            "\n"
            "í•´ì™¸ì£¼ì‹ 35% (105ë§Œì›)\n"
            "â”œâ”€â”€ ë¯¸êµ­ ETF 70%: SPY, QQQ, VTI\n"
            "â”œâ”€â”€ ê°œë³„ì£¼ 20%: NVDA, MSFT, GOOGL\n"
            "â””â”€â”€ ì‹ í¥êµ­ 10%: VWO, EEM\n"
            "\n"
            "ì±„ê¶Œ 15% (45ë§Œì›): KODEX êµ­ê³ ì±„, ACE íšŒì‚¬ì±„\n"
            "í˜„ê¸ˆì„±ìì‚° 10% (30ë§Œì›): CMA, MMF\n"
            "```\n\n"
            "**[ì•ˆì •í˜•] 40-50ëŒ€ ìì‚°ë³´ì „í˜• (ëª©í‘œìˆ˜ìµ ì—° 6-8%)**\n"
            "```\n"
            "êµ­ë‚´ì£¼ì‹ 25% (75ë§Œì›)\n"
            "â”œâ”€â”€ ë°°ë‹¹ì£¼ 70%: SKí…”ë ˆì½¤, KT&G, í•œêµ­ì „ë ¥\n"
            "â”œâ”€â”€ ìš°ì„ ì£¼ 20%: ì‚¼ì„±ì „ììš°, LGí™”í•™ìš°\n"
            "â””â”€â”€ ì¸í”„ë¼ 10%: í•œêµ­ê°€ìŠ¤ê³µì‚¬, í•œì „ê¸°ìˆ \n"
            "\n"
            "í•´ì™¸ì£¼ì‹ 25% (75ë§Œì›)\n"
            "â”œâ”€â”€ ì„ ì§„êµ­ ETF 60%: VEA, EFA\n"
            "â”œâ”€â”€ ë°°ë‹¹ ETF 30%: VYM, SCHD\n"
            "â””â”€â”€ ë¦¬ì¸  10%: VNQ, VNQI\n"
            "\n"
            "ì±„ê¶Œ 40% (120ë§Œì›): êµ­ê³ ì±„, íšŒì‚¬ì±„, í•´ì™¸ì±„ê¶Œ\n"
            "ëŒ€ì•ˆíˆ¬ì 10% (30ë§Œì›): ê¸ˆ, ì›ìì¬, P2P\n"
            "```\n\n"
            "**ğŸ’¡ íˆ¬ì ì‹¤í–‰ ë¡œë“œë§µ (12ê°œì›” ê³„íš)**\n"
            "**1-3ê°œì›”: ê¸°ë°˜ êµ¬ì¶•**\n"
            "â€¢ ì¦ê¶Œì‚¬ ê³„ì¢Œ ê°œì„¤ (ìˆ˜ìˆ˜ë£Œ ë¹„êµ: í‚¤ì›€, ë¯¸ë˜ì—ì…‹, NH)\n"
            "â€¢ ISA ê³„ì¢Œ ê°œì„¤ (ë¹„ê³¼ì„¸ í˜œíƒ 200ë§Œì›)\n"
            "â€¢ ì—°ê¸ˆì €ì¶• ê°€ì… (ì„¸ì•¡ê³µì œ ìµœëŒ€ 66ë§Œì›)\n"
            "â€¢ íˆ¬ì ì„±í–¥ í…ŒìŠ¤íŠ¸ ë° ëª©í‘œ ì„¤ì •\n\n"
            "**4-6ê°œì›”: í•µì‹¬ í¬ì§€ì…˜ êµ¬ì¶•**\n"
            "â€¢ ì›” 25ë§Œì›ì”© ë¶„í•  íˆ¬ì ì‹œì‘\n"
            "â€¢ êµ­ë‚´ì™¸ ëŒ€í˜•ì£¼ ETF ìš°ì„  ë§¤ìˆ˜\n"
            "â€¢ ë‹¬ëŸ¬ ì½”ìŠ¤íŠ¸ ì• ë²„ë¦¬ì§• ì „ëµ ì‹¤í–‰\n"
            "â€¢ ì‹œì¥ ê¸‰ë½ì‹œ ì¶”ê°€ ë§¤ìˆ˜ ê¸°íšŒ í¬ì°©\n\n"
            "**7-12ê°œì›”: ì •êµí•œ ì¡°ì •**\n"
            "â€¢ ê°œë³„ ì¢…ëª© ì„ ë³„ íˆ¬ì ì‹œì‘\n"
            "â€¢ ì„¹í„°ë³„ ë¶„ì‚° íˆ¬ì í™•ëŒ€\n"
            "â€¢ ë¶„ê¸°ë³„ ë¦¬ë°¸ëŸ°ì‹± ì‹¤ì‹œ\n"
            "â€¢ ìˆ˜ìµë¥  ë° ìœ„í—˜ë„ ì •ê¸° ì ê²€\n\n"
            "**ğŸ“ˆ ì„¸ë¶€ ì¢…ëª© ì¶”ì²œ (Research ê¸°ë°˜)**\n"
            "**êµ­ë‚´ í•µì‹¬ ì¢…ëª© TOP 5**\n"
            "1. ì‚¼ì„±ì „ì (005930): AI ë°˜ë„ì²´ ìˆ˜í˜œ, PER 15ë°°\n"
            "2. SKí•˜ì´ë‹‰ìŠ¤ (000660): HBM ë…ì , ë©”ëª¨ë¦¬ íšŒë³µ\n"
            "3. NAVER (035420): AI í”Œë«í¼, í´ë¡œë°”X ì„±ì¥\n"
            "4. ì¹´ì¹´ì˜¤ (035720): í”Œë«í¼ ë‹¤ê°í™”, ì €í‰ê°€ êµ¬ê°„\n"
            "5. LGì—ë„ˆì§€ì†”ë£¨ì…˜ (373220): ì „ê¸°ì°¨ ë°°í„°ë¦¬ 1ìœ„\n\n"
            "**í•´ì™¸ ETF ì¶”ì²œ TOP 3**\n"
            "1. KODEX ë‚˜ìŠ¤ë‹¥100: ê¸°ìˆ ì£¼ ì§‘ì¤‘, ì—°í‰ê·  12%\n"
            "2. TIGER ë¯¸êµ­S&P500: ì•ˆì •ì„±ê³¼ ì„±ì¥ì„± ê· í˜•\n"
            "3. ACE ë¯¸êµ­ë°°ë‹¹ë‹¤ìš°ì¡´ìŠ¤: ë°°ë‹¹ìˆ˜ìµ + ì•ˆì •ì„±\n\n"
            "**ğŸ›¡ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸**\n"
            "â€¢ ì†ì ˆë¼ì¸: -20% ë„ë‹¬ì‹œ ì¶”ê°€ë§¤ìˆ˜ ë˜ëŠ” ì†ì ˆ íŒë‹¨\n"
            "â€¢ ìµì ˆë¼ì¸: +30% ë‹¬ì„±ì‹œ ì¼ë¶€ ìˆ˜ìµì‹¤í˜„ ê³ ë ¤\n"
            "â€¢ ì§‘ì¤‘ë„ ì œí•œ: í•œ ì¢…ëª© ìµœëŒ€ 10% ì´ë‚´\n"
            "â€¢ ì •ê¸° ì ê²€: ì›” 1íšŒ í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë·°\n"
            "â€¢ ê°ì • ì œì–´: ì‹œì¥ ê³µí¬/íƒìš• ì§€ìˆ˜ ì°¸ê³ \n\n"
            "**ğŸ’° ì ˆì„¸ ì „ëµ ì™„ë²½ ê°€ì´ë“œ**\n"
            "â€¢ ISA ê³„ì¢Œ: 200ë§Œì›ê¹Œì§€ ë¹„ê³¼ì„¸ (ì¼ë°˜í˜• ê¸°ì¤€)\n"
            "â€¢ ì—°ê¸ˆì €ì¶•: ì„¸ì•¡ê³µì œ ìµœëŒ€ 16.5% (400ë§Œì› í•œë„)\n"
            "â€¢ ì†ìµí†µì‚°: ìˆ˜ìµ ì¢…ëª©ê³¼ ì†ì‹¤ ì¢…ëª© ë§¤ë§¤ íƒ€ì´ë° ì¡°ì ˆ\n"
            "â€¢ ì¥ê¸°íˆ¬ì: 3ë…„ ì´ìƒ ë³´ìœ ì‹œ ì–‘ë„ì†Œë“ì„¸ í˜œíƒ\n\n"
            "**ğŸ“Š ì˜ˆìƒ ì‹œë‚˜ë¦¬ì˜¤ë³„ ìˆ˜ìµë¥ **\n"
            "â€¢ ë‚™ê´€ì  ì‹œë‚˜ë¦¬ì˜¤: ì—° 15-20% (ê¸€ë¡œë²Œ ê²½ê¸°íšŒë³µ)\n"
            "â€¢ ê¸°ë³¸ ì‹œë‚˜ë¦¬ì˜¤: ì—° 8-12% (í˜„ì¬ ì¶”ì„¸ ì§€ì†)\n"
            "â€¢ ë¹„ê´€ì  ì‹œë‚˜ë¦¬ì˜¤: ì—° 3-5% (ê²½ê¸°ì¹¨ì²´ ìš°ë ¤)\n\n"
            "âš ï¸ **íˆ¬ì ì£¼ì˜ì‚¬í•­**: ìœ„ ë‚´ìš©ì€ ì¼ë°˜ì  ê°€ì´ë“œë¡œ ê°œì¸ ì¬ë¬´ìƒí™©, íˆ¬ìëª©ì , ìœ„í—˜ì„±í–¥ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íˆ¬ì ì „ ì¶©ë¶„í•œ í•™ìŠµê³¼ ì „ë¬¸ê°€ ìƒë‹´ì„ ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤."
        )

    def _react18_super_response(self) -> str:
        """React 18 ìŠˆí¼ ë‹µë³€"""
        return (
            "**âš›ï¸ React 18 ì™„ì „ ë§ˆìŠ¤í„° ê°€ì´ë“œ (ì‹¤ë¬´ 100% í™œìš©)**\n\n"
            "**ğŸš€ í•µì‹¬ ì‹ ê¸°ëŠ¥ Deep Dive**\n"
            "ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê²€ì¦ëœ React 18ì˜ í˜ì‹ ì  ê¸°ëŠ¥ë“¤ì„ ìƒì„¸íˆ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."
        )

    def _diabetes_super_response(self) -> str:
        """ë‹¹ë‡¨ ìŠˆí¼ ë‹µë³€"""
        return (
            "**ğŸ©º ë‹¹ë‡¨ ì™„ì „ì •ë³µ ê°€ì´ë“œ (20ë…„ ì„ìƒê²½í—˜)**\n\n"
            "ì‹¤ì œ í™˜ì ì¹˜ë£Œ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì²´ê³„ì ì¸ ë‹¹ë‡¨ ê´€ë¦¬ ë°©ë²•ì„ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."
        )

    def _seo_super_response(self) -> str:
        """SEO ìŠˆí¼ ë‹µë³€"""
        return (
            "**ğŸ” SEO ì™„ì „ì •ë³µ ê°€ì´ë“œ (2024ë…„ ìµœì‹ )**\n\n"
            "ê²€ìƒ‰ì—”ì§„ ìµœì í™”ì˜ ëª¨ë“  ê²ƒì„ ì‹¤ë¬´ ì¤‘ì‹¬ìœ¼ë¡œ ìƒì„¸íˆ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."
        )

    def _marketing_super_response(self) -> str:
        """ë§ˆì¼€íŒ… ìŠˆí¼ ë‹µë³€"""
        return (
            "**ğŸ“ˆ ë””ì§€í„¸ ë§ˆì¼€íŒ… ì™„ì „ ê°€ì´ë“œ (ROI ê·¹ëŒ€í™”)**\n\n"
            "ì‹¤ì œ ìº í˜ì¸ ì„±ê³µ ì‚¬ë¡€ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ë§ˆì¼€íŒ… ì „ëµì„ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."
        )

    def _default_super_response(self, question: str) -> str:
        """ê¸°ë³¸ ìŠˆí¼ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ğŸ¯ ì „ë¬¸ê°€ ì¢…í•© ì†”ë£¨ì…˜ ê°€ì´ë“œ**\n\n"
            "**ğŸ“‹ ë¬¸ì œ ë¶„ì„ í”„ë ˆì„ì›Œí¬**\n"
            "1ï¸âƒ£ **í˜„í™© ì§„ë‹¨ (SWOT ë¶„ì„)**\n"
            "   â€¢ Strengths: ë³´ìœ  ê°•ì ê³¼ ìì›\n"
            "   â€¢ Weaknesses: ê°œì„  í•„ìš” ì˜ì—­\n"
            "   â€¢ Opportunities: í™œìš© ê°€ëŠ¥ ê¸°íšŒ\n"
            "   â€¢ Threats: ì ì¬ì  ìœ„í—˜ ìš”ì†Œ\n\n"
            "2ï¸âƒ£ **ëª©í‘œ ì„¤ì • (SMART ê¸°ë²•)**\n"
            "   â€¢ Specific: êµ¬ì²´ì  ëª©í‘œ ì •ì˜\n"
            "   â€¢ Measurable: ì¸¡ì • ê°€ëŠ¥í•œ ì§€í‘œ\n"
            "   â€¢ Achievable: ë‹¬ì„± ê°€ëŠ¥í•œ ìˆ˜ì¤€\n"
            "   â€¢ Relevant: ê´€ë ¨ì„±ê³¼ ì¤‘ìš”ë„\n"
            "   â€¢ Time-bound: ëª…í™•í•œ ê¸°í•œ ì„¤ì •\n\n"
            "**ğŸš€ ì‹¤í–‰ ì „ëµ ë¡œë“œë§µ**\n"
            "**Phase 1: ì¤€ë¹„ ë‹¨ê³„ (1-2ì£¼)**\n"
            "â€¢ ìë£Œ ìˆ˜ì§‘ ë° ë¶„ì„\n"
            "â€¢ ì´í•´ê´€ê³„ì íŒŒì•…\n"
            "â€¢ ì˜ˆì‚° ë° ìì› í™•ë³´\n"
            "â€¢ ìœ„í—˜ ìš”ì†Œ ì‚¬ì „ ì ê²€\n\n"
            "**Phase 2: ì‹¤í–‰ ë‹¨ê³„ (1-2ê°œì›”)**\n"
            "â€¢ ë‹¨ê³„ë³„ ì„¸ë¶€ ê³„íš ìˆ˜ë¦½\n"
            "â€¢ í•µì‹¬ ì‘ì—… ìš°ì„  ì²˜ë¦¬\n"
            "â€¢ ì •ê¸°ì  ì§„í–‰ ìƒí™© ì ê²€\n"
            "â€¢ í•„ìš”ì‹œ ê³„íš ìˆ˜ì • ë³´ì™„\n\n"
            "**Phase 3: í‰ê°€ ë° ê°œì„  (ongoing)**\n"
            "â€¢ ì„±ê³¼ ì§€í‘œ ëª¨ë‹ˆí„°ë§\n"
            "â€¢ í”¼ë“œë°± ìˆ˜ì§‘ ë° ë°˜ì˜\n"
            "â€¢ ì§€ì†ì  í”„ë¡œì„¸ìŠ¤ ê°œì„ \n"
            "â€¢ êµí›ˆ ì •ë¦¬ ë° ë¬¸ì„œí™”\n\n"
            "**ğŸ’¡ ì„±ê³µ ìš”ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**\n"
            "âœ… ëª…í™•í•œ ëª©í‘œì™€ ì¼ì •\n"
            "âœ… ì¶©ë¶„í•œ ìì›ê³¼ ì§€ì›\n"
            "âœ… íš¨ê³¼ì ì¸ ì˜ì‚¬ì†Œí†µ\n"
            "âœ… ìœ ì—°í•œ ëŒ€ì‘ ëŠ¥ë ¥\n"
            "âœ… ì§€ì†ì ì¸ í•™ìŠµê³¼ ê°œì„ \n\n"
            "**âš ï¸ ì£¼ì˜ì‚¬í•­ ë° ìœ„í—˜ ê´€ë¦¬**\n"
            "â€¢ ê³¼ë„í•œ ëª©í‘œ ì„¤ì • ì§€ì–‘\n"
            "â€¢ ì™¸ë¶€ ë³€ìˆ˜ ì˜í–¥ ê³ ë ¤\n"
            "â€¢ ë°±ì—… ê³„íš ì‚¬ì „ ì¤€ë¹„\n"
            "â€¢ ì •ê¸°ì  ìƒí™© ì ê²€ í•„ìˆ˜\n\n"
            "ì´ ì²´ê³„ì  ì ‘ê·¼ë²•ì„ í†µí•´ ìµœì ì˜ ê²°ê³¼ë¥¼ ë‹¬ì„±í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¸ë¶€ ì‹¤í–‰ ê³¼ì •ì—ì„œ ì¶”ê°€ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¸ì˜í•´ ì£¼ì„¸ìš”."
        )

    def _counselor_enhanced_response(self, question: str) -> str:
        """ìƒë‹´ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì‹¬ë¦¬ì  ì•ˆì •ê³¼ ì„±ì¥ì„ ìœ„í•œ ì „ë¬¸ ìƒë‹´ ì ‘ê·¼ë²•**\n\n"
            "ğŸ§˜â€â™€ï¸ **ë‹¨ê³„ë³„ í•´ê²° ë°©ì•ˆ:**\n"
            "1ï¸âƒ£ í˜„ì¬ ìƒí™© ëª…í™•í™”: ê°ì •ê³¼ ìƒê° ë¶„ë¦¬í•˜ê¸°\n"
            "2ï¸âƒ£ í•µì‹¬ ë¬¸ì œ íŒŒì•…: ê·¼ë³¸ ì›ì¸ ì°¾ê¸°\n"
            "3ï¸âƒ£ êµ¬ì²´ì  í–‰ë™ ê³„íš: ì‹¤í–‰ ê°€ëŠ¥í•œ ëª©í‘œ ì„¤ì •\n"
            "4ï¸âƒ£ ì§€ì†ì  ì ê²€: ì£¼ê¸°ì  ìê¸° ì„±ì°°\n\n"
            "ğŸ’¡ **ì‹¤ìš©ì  ì¡°ì–¸:** í•˜ë£¨ 10ë¶„ ë§ˆìŒì±™ê¹€ ëª…ìƒ, ê°ì • ì¼ê¸° ì‘ì„±, ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒê³¼ì˜ ëŒ€í™”ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."
        )

    def _data_analyst_enhanced_response(self, question: str) -> str:
        """ë°ì´í„° ë¶„ì„ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •ì„ ìœ„í•œ ë¶„ì„ í”„ë ˆì„ì›Œí¬**\n\n"
            "ğŸ“Š **ë¶„ì„ ë‹¨ê³„:**\n"
            "1ï¸âƒ£ ë°ì´í„° ìˆ˜ì§‘: ì‹ ë¢°ì„± ìˆëŠ” ë‹¤ì–‘í•œ ì¶œì²˜\n"
            "2ï¸âƒ£ ì „ì²˜ë¦¬: ê²°ì¸¡ì¹˜ ì²˜ë¦¬, ì´ìƒì¹˜ íƒì§€\n"
            "3ï¸âƒ£ íƒìƒ‰ì  ë¶„ì„: íŒ¨í„´ê³¼ ìƒê´€ê´€ê³„ ë°œê²¬\n"
            "4ï¸âƒ£ í†µê³„ì  ê²€ì¦: ê°€ì„¤ ê²€ì •ê³¼ ì‹ ë¢°êµ¬ê°„\n"
            "5ï¸âƒ£ ì‹œê°í™”: ì´í•´í•˜ê¸° ì‰¬ìš´ ì°¨íŠ¸ ì‘ì„±\n\n"
            "âš¡ **í•µì‹¬ ë„êµ¬:** Python(Pandas, Numpy), SQL, Tableau, í†µê³„ì  ì‚¬ê³ ë ¥ì´ í•„ìˆ˜ì…ë‹ˆë‹¤."
        )

    def _fortune_enhanced_response(self, question: str) -> str:
        """ìš´ì„¸ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ë™ì–‘ì² í•™ê³¼ í˜„ëŒ€ ì‹¬ë¦¬í•™ì„ ê²°í•©í•œ ìš´ì„¸ í•´ì„**\n\n"
            "ğŸ”® **ì¢…í•© ìš´ì„¸ ë¶„ì„:**\n"
            "â€¢ ì²œê°„ì§€ì§€ ê¸°ë°˜ ì„±ê²© ë¶„ì„\n"
            "â€¢ ì˜¤í–‰ ê· í˜•ê³¼ ë³´ì™„ ë°©í–¥\n"
            "â€¢ ê³„ì ˆë³„ ì—ë„ˆì§€ íë¦„\n"
            "â€¢ ê°œì¸ ë°”ì´ì˜¤ë¦¬ë“¬ ì£¼ê¸°\n\n"
            "ğŸŒŸ **ì‹¤ìš©ì  í™œìš©ë²•:** ìš´ì„¸ëŠ” ì°¸ê³ ì‚¬í•­ì¼ ë¿, ë³¸ì¸ì˜ ë…¸ë ¥ê³¼ ì„ íƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ê¸ì •ì  ë§ˆìŒê°€ì§ê³¼ ì ê·¹ì  í–‰ë™ì„ í†µí•´ ìš´ì„ ê°œì²™í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤."
        )

    def _default_enhanced_response(self, question: str) -> str:
        """ê¸°ë³¸ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì „ë¬¸ê°€ì  ê´€ì ì—ì„œì˜ ì¢…í•©ì  í•´ê²°ë°©ì•ˆ**\n\n"
            "ğŸ¯ **ì²´ê³„ì  ì ‘ê·¼ë²•:**\n"
            "1ï¸âƒ£ í˜„í™© ë¶„ì„ê³¼ ë¬¸ì œ ì •ì˜\n"
            "2ï¸âƒ£ ë‹¤ê°ë„ í•´ê²°ì±… ê²€í† \n"
            "3ï¸âƒ£ ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì‹¤í–‰ ê³„íš\n"
            "4ï¸âƒ£ ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§\n\n"
            "ğŸ’¡ **í•µì‹¬ ì¡°ì–¸:** ë‹¨ê³„ë³„ ì‹¤í–‰ê³¼ ì§€ì†ì  ê°œì„ ì„ í†µí•´ ìµœì ì˜ ê²°ê³¼ë¥¼ ë‹¬ì„±í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
        )

    def _growth_enhanced_response(self, question: str) -> str:
        """ì„±ì¥ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì§€ì†ê°€ëŠ¥í•œ ì„±ì¥ì„ ìœ„í•œ ì²´ê³„ì  ì „ëµ**\n\n"
            "ğŸŒ± **ì„±ì¥ 4ë‹¨ê³„ í”„ë ˆì„ì›Œí¬:**\n"
            "1ï¸âƒ£ í˜„ì¬ ì—­ëŸ‰ ì§„ë‹¨: ê°•ì ê³¼ ì•½ì  ë¶„ì„\n"
            "2ï¸âƒ£ ëª©í‘œ ì„¤ì •: SMART ëª©í‘œ ìˆ˜ë¦½\n"
            "3ï¸âƒ£ í•™ìŠµê³¼ ì‹¤í–‰: ì ì§„ì  ê°œì„ \n"
            "4ï¸âƒ£ í”¼ë“œë°±ê³¼ ì¡°ì •: ì§€ì†ì  ìµœì í™”\n\n"
            "ğŸš€ **í•µì‹¬ ì„±ì¥ ë²•ì¹™:** 1% ë§¤ì¼ ê°œì„ , ë³µë¦¬ íš¨ê³¼ í™œìš©, ë©˜í†  ë„¤íŠ¸ì›Œí¬ êµ¬ì¶•ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."
        )

    def _hr_enhanced_response(self, question: str) -> str:
        """ì¸ì‚¬ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì¡°ì§ íš¨ìœ¨ì„± ê·¹ëŒ€í™”ë¥¼ ìœ„í•œ HR ì „ëµ**\n\n"
            "ğŸ‘¥ **ì¸ì¬ ê´€ë¦¬ í•µì‹¬ ìš”ì†Œ:**\n"
            "1ï¸âƒ£ ì±„ìš©: ì—­ëŸ‰ê¸°ë°˜ ë©´ì ‘, ë¬¸í™”ì  ì í•©ì„±\n"
            "2ï¸âƒ£ ìœ¡ì„±: ê°œì¸ ë§ì¶¤í˜• êµìœ¡, ë©˜í† ë§\n"
            "3ï¸âƒ£ í‰ê°€: ê³µì •í•œ ì„±ê³¼ ì¸¡ì •, 360ë„ í”¼ë“œë°±\n"
            "4ï¸âƒ£ ë³´ìƒ: ê²½ìŸë ¥ ìˆëŠ” íŒ¨í‚¤ì§€, ë¹„ê¸ˆì „ì  í˜œíƒ\n\n"
            "ğŸ’¼ **íŠ¸ë Œë“œ:** ìœ ì—°ê·¼ë¬´, ì›Œë¼ë°¸, ESG ê²½ì˜ì´ í•µì‹¬ í‚¤ì›Œë“œì…ë‹ˆë‹¤."
        )

    def _marketing_enhanced_response(self, question: str) -> str:
        """ë§ˆì¼€íŒ… ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ë””ì§€í„¸ ì‹œëŒ€ í†µí•© ë§ˆì¼€íŒ… ì „ëµ**\n\n"
            "ğŸ“ˆ **ë§ˆì¼€íŒ… ë¯¹ìŠ¤ 4P 2.0:**\n"
            "â€¢ Product: ê³ ê° ë‹ˆì¦ˆ ê¸°ë°˜ ì œí’ˆ ê°œë°œ\n"
            "â€¢ Price: ê°€ì¹˜ ê¸°ë°˜ ê°€ê²© ì „ëµ\n"
            "â€¢ Place: ì˜´ë‹ˆì±„ë„ ìœ í†µ ì „ëµ\n"
            "â€¢ Promotion: ë°ì´í„° ë“œë¦¬ë¸ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n\n"
            "ğŸ¯ **ROI ê·¹ëŒ€í™”:** A/B í…ŒìŠ¤íŠ¸, í¼ë„ ë¶„ì„, ê³ ê°ìƒì• ê°€ì¹˜(CLV) ìµœì í™”ê°€ í•µì‹¬ì…ë‹ˆë‹¤."
        )

    def _medical_enhanced_response(self, question: str) -> str:
        """ì˜ë£Œ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ê·¼ê±°ì¤‘ì‹¬ ì˜í•™(EBM) ì ‘ê·¼ë²•**\n\n"
            "ğŸ¥ **ì§„ë£Œ í”„ë¡œì„¸ìŠ¤:**\n"
            "1ï¸âƒ£ ì •í™•í•œ ë³‘ë ¥ ì²­ì·¨ì™€ ì‹ ì²´ê²€ì‚¬\n"
            "2ï¸âƒ£ í•„ìš”ì‹œ ì •ë°€ê²€ì‚¬ ì‹¤ì‹œ\n"
            "3ï¸âƒ£ ìµœì‹  ê°€ì´ë“œë¼ì¸ ê¸°ë°˜ ì§„ë‹¨\n"
            "4ï¸âƒ£ ê°œì¸ ë§ì¶¤í˜• ì¹˜ë£Œ ê³„íš\n"
            "5ï¸âƒ£ ì •ê¸°ì  ì¶”ì  ê´€ì°°\n\n"
            "âš•ï¸ **ì˜ˆë°©ì˜í•™:** ì •ê¸° ê±´ê°•ê²€ì§„, ìƒí™œìŠµê´€ ê°œì„ , ì˜ˆë°©ì ‘ì¢…ì´ ê±´ê°•í•œ ì‚¶ì˜ ê¸°ì´ˆì…ë‹ˆë‹¤."
        )

    def _sales_enhanced_response(self, question: str) -> str:
        """ì˜ì—… ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ê³ ì„±ê³¼ ì˜ì—…ì„ ìœ„í•œ ì „ëµì  ì ‘ê·¼ë²•**\n\n"
            "ğŸ’° **ì˜ì—… í”„ë¡œì„¸ìŠ¤ ìµœì í™”:**\n"
            "1ï¸âƒ£ ë¦¬ë“œ ë°œêµ´: íƒ€ê²Ÿ ê³ ê° ì •ì˜, ë‹¤ì±„ë„ ì ‘ê·¼\n"
            "2ï¸âƒ£ ë‹ˆì¦ˆ ë¶„ì„: ê¹Šì´ ìˆëŠ” ì§ˆë¬¸, ì ê·¹ì  ê²½ì²­\n"
            "3ï¸âƒ£ ì†”ë£¨ì…˜ ì œì•ˆ: ê°€ì¹˜ ì¤‘ì‹¬ ì œì•ˆì„œ\n"
            "4ï¸âƒ£ ì´ì˜ì œê¸° í•´ê²°: ë…¼ë¦¬ì  ê·¼ê±° ì œì‹œ\n"
            "5ï¸âƒ£ í´ë¡œì§•: ì ì ˆí•œ íƒ€ì´ë°ê³¼ ë°©ë²•\n\n"
            "ğŸ¯ **ì„±ê³µ ë¹„ê²°:** ê³ ê° ì¤‘ì‹¬ ì‚¬ê³ , ì§€ì†ì  ê´€ê³„ êµ¬ì¶•, CRM í™œìš©ì´ í•µì‹¬ì…ë‹ˆë‹¤."
        )

    def _seo_enhanced_response(self, question: str) -> str:
        """SEO ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ê²€ìƒ‰ ì—”ì§„ ìµœì í™” ì™„ì „ ê°€ì´ë“œ**\n\n"
            "ğŸ” **SEO 3ëŒ€ í•µì‹¬ ìš”ì†Œ:**\n"
            "1ï¸âƒ£ ê¸°ìˆ ì  SEO: ì‚¬ì´íŠ¸ ì†ë„, ëª¨ë°”ì¼ ìµœì í™”, êµ¬ì¡°í™” ë°ì´í„°\n"
            "2ï¸âƒ£ ì½˜í…ì¸  SEO: í‚¤ì›Œë“œ ì—°êµ¬, ê³ í’ˆì§ˆ ì½˜í…ì¸ , ì‚¬ìš©ì ì˜ë„ íŒŒì•…\n"
            "3ï¸âƒ£ ì˜¤í”„í˜ì´ì§€ SEO: ë°±ë§í¬ êµ¬ì¶•, ë¸Œëœë“œ ì–¸ê¸‰, ì†Œì…œ ì‹œê·¸ë„\n\n"
            "ğŸ“Š **ì¸¡ì • ì§€í‘œ:** ìœ ê¸°ì  íŠ¸ë˜í”½, í‚¤ì›Œë“œ ìˆœìœ„, í´ë¦­ë¥ (CTR), ì „í™˜ìœ¨ì„ ì§€ì† ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”."
        )

    def _shopping_enhanced_response(self, question: str) -> str:
        """ì‡¼í•‘ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ìŠ¤ë§ˆíŠ¸ ì‡¼í•‘ê³¼ ì†Œë¹„ ìµœì í™” ì „ëµ**\n\n"
            "ğŸ›’ **í˜„ëª…í•œ êµ¬ë§¤ ì˜ì‚¬ê²°ì •:**\n"
            "1ï¸âƒ£ ë‹ˆì¦ˆ vs ìš•êµ¬ êµ¬ë¶„í•˜ê¸°\n"
            "2ï¸âƒ£ ê°€ê²© ë¹„êµ: ë‹¤ì–‘í•œ í”Œë«í¼ í™•ì¸\n"
            "3ï¸âƒ£ í’ˆì§ˆ ê²€ì¦: ë¦¬ë·°, í‰ì , ë¸Œëœë“œ ì‹ ë¢°ë„\n"
            "4ï¸âƒ£ íƒ€ì´ë°: í• ì¸ ì‹œì¦Œ, ì¬ê³  ì •ë¦¬ ê¸°ê°„\n\n"
            "ğŸ’³ **ì ˆì•½ íŒ:** ì ë¦½ í¬ì¸íŠ¸ í™œìš©, ì¿ í° ìˆ˜ì§‘, êµ¬ë… ì„œë¹„ìŠ¤ ê´€ë¦¬ë¡œ ì—°ê°„ 30% ì ˆì•½ ê°€ëŠ¥í•©ë‹ˆë‹¤."
        )

    def _startup_enhanced_response(self, question: str) -> str:
        """ìŠ¤íƒ€íŠ¸ì—… ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì„±ê³µí•˜ëŠ” ìŠ¤íƒ€íŠ¸ì—…ì„ ìœ„í•œ ì‹¤ì „ ë¡œë“œë§µ**\n\n"
            "ğŸš€ **ë¦° ìŠ¤íƒ€íŠ¸ì—… ë°©ë²•ë¡ :**\n"
            "1ï¸âƒ£ ê°€ì„¤ ìˆ˜ë¦½: ê³ ê° ë¬¸ì œì™€ ì†”ë£¨ì…˜ ì •ì˜\n"
            "2ï¸âƒ£ MVP ê°œë°œ: ìµœì†Œ ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥¸ ê²€ì¦\n"
            "3ï¸âƒ£ í”¼ë²—: ë°ì´í„° ê¸°ë°˜ ë°©í–¥ ì „í™˜\n"
            "4ï¸âƒ£ ìŠ¤ì¼€ì¼ì—…: ê²€ì¦ëœ ëª¨ë¸ í™•ì¥\n\n"
            "ğŸ’¡ **ì„±ê³µ ìš”ì†Œ:** íŒ€ êµ¬ì„±, ì‹œì¥ íƒ€ì´ë°, ìê¸ˆ ì¡°ë‹¬, ì§€ì†ì  í˜ì‹ ì´ í•µì‹¬ì…ë‹ˆë‹¤."
        )

    def _village_chief_enhanced_response(self, question: str) -> str:
        """ì´ì¥ ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì»¤ë®¤ë‹ˆí‹° ë¦¬ë”ì‹­ê³¼ ì¡°ì§ ê´€ë¦¬ ì „ëµ**\n\n"
            "ğŸ‘‘ **íš¨ê³¼ì ì¸ ë¦¬ë”ì‹­ 4ì›ì¹™:**\n"
            "1ï¸âƒ£ ë¹„ì „ ì œì‹œ: ëª…í™•í•œ ë°©í–¥ì„±ê³¼ ëª©í‘œ\n"
            "2ï¸âƒ£ ì†Œí†µ ê°•í™”: íˆ¬ëª…í•˜ê³  ìŒë°©í–¥ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n"
            "3ï¸âƒ£ ì‹ ë¢° êµ¬ì¶•: ì¼ê´€ì„± ìˆëŠ” í–‰ë™ê³¼ ê³µì •ì„±\n"
            "4ï¸âƒ£ ì—­ëŸ‰ ê°œë°œ: êµ¬ì„±ì› ì„±ì¥ ì§€ì›\n\n"
            "ğŸ›ï¸ **ê³µë™ì²´ ë°œì „:** ì°¸ì—¬í˜• ì˜ì‚¬ê²°ì •, ê°ˆë“± ì¡°ì •, ì§€ì†ê°€ëŠ¥í•œ ë°œì „ ê³„íšì´ ì¤‘ìš”í•©ë‹ˆë‹¤."
        )

    def _writing_enhanced_response(self, question: str) -> str:
        """ë¬¸ì„œ ì‘ì„± ì „ë¬¸ê°€ ê³ í’ˆì§ˆ ë‹µë³€"""
        return (
            "**ì „ë¬¸ì  ë¬¸ì„œ ì‘ì„±ì„ ìœ„í•œ ì²´ê³„ì  ì ‘ê·¼ë²•**\n\n"
            "âœï¸ **ê³ í’ˆì§ˆ ê¸€ì“°ê¸° 5ë‹¨ê³„:**\n"
            "1ï¸âƒ£ ê¸°íš: ëª©ì , ë…ì, í•µì‹¬ ë©”ì‹œì§€ ì •ì˜\n"
            "2ï¸âƒ£ êµ¬ì¡°í™”: ë…¼ë¦¬ì  íë¦„ê³¼ ëª©ì°¨ ì‘ì„±\n"
            "3ï¸âƒ£ ì´ˆì•ˆ ì‘ì„±: ì•„ì´ë””ì–´ë¥¼ ììœ ë¡­ê²Œ í‘œí˜„\n"
            "4ï¸âƒ£ ìˆ˜ì •: ë‚´ìš© ì •í™•ì„±ê³¼ ë…¼ë¦¬ì„± ì ê²€\n"
            "5ï¸âƒ£ í¸ì§‘: ë¬¸ì²´, ì–´ì¡°, ê°€ë…ì„± ìµœì¢… ì¡°ì •\n\n"
            "ğŸ“ **í•µì‹¬ ì›ì¹™:** ê°„ê²°ì„±, ëª…í™•ì„±, ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©° ë…ì ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”."
        )


# ì „ì—­ ì¸ìŠ¤í„´ìŠ¤
_complete_ai = None
_real_ai_manager = None


def get_complete_ai():
    """Complete AI ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜"""
    global _complete_ai
    if _complete_ai is None:
        _complete_ai = Complete16ExpertAI()
    return _complete_ai


def get_real_ai_manager():
    """RealAIManager ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜ - main_phd_system.py í˜¸í™˜ì„±ìš©"""
    global _real_ai_manager
    if _real_ai_manager is None:
        _real_ai_manager = RealAIManager()
    return _real_ai_manager


def generate_expert_response_sync(user_message: str, expert_type: str) -> str:
    """ë™ê¸° ì „ë¬¸ê°€ ì‘ë‹µ ìƒì„±"""
    complete_ai = get_complete_ai()
    return complete_ai.generate_expert_response(user_message, expert_type)


# í˜¸í™˜ì„±ì„ ìœ„í•œ ë˜í¼ í´ë˜ìŠ¤
class RealAIManager:
    """í˜¸í™˜ì„±ì„ ìœ„í•œ ë˜í¼ í´ë˜ìŠ¤"""

    def __init__(self):
        self.complete_ai = get_complete_ai()
        self.api_keys = {"complete_system": "enabled"}

    def generate_response(self, user_message: str, expert_type: str) -> str:
        """í˜¸í™˜ì„±ì„ ìœ„í•œ ë©”ì„œë“œ"""
        return self.complete_ai.generate_expert_response(user_message, expert_type)

    def analyze_emotion(self, text: str) -> Dict[str, Any]:
        """ê°ì • ë¶„ì„"""
        positive_words = [
            "ì¢‹ë‹¤",
            "í–‰ë³µ",
            "ê¸°ì˜ë‹¤",
            "ë§Œì¡±",
            "ì„±ê³µ",
            "ì™„ì„±",
            "ë„ì›€",
            "ê°ì‚¬",
            "í›Œë¥­",
            "ìµœê³ ",
        ]
        negative_words = [
            "ê±±ì •",
            "ë¬¸ì œ",
            "ì–´ë µë‹¤",
            "í˜ë“¤ë‹¤",
            "ë‹µë‹µ",
            "ìŠ¤íŠ¸ë ˆìŠ¤",
            "í™”ë‚˜",
            "ìŠ¬í”„",
            "ì‹¤íŒ¨",
            "ì–´ë ¤ì›€",
        ]
        neutral_words = [
            "ìƒê°",
            "ì§ˆë¬¸",
            "ê¶ê¸ˆ",
            "ì•Œê³ ì‹¶",
            "ë¬¸ì˜",
            "í™•ì¸",
            "ê²€í† ",
            "ê³ ë¯¼",
        ]

        text_lower = text.lower()

        positive_count = sum(1 for word in positive_words if word in text_lower)
        negative_count = sum(1 for word in negative_words if word in text_lower)
        neutral_count = sum(1 for word in neutral_words if word in text_lower)

        if positive_count > negative_count and positive_count > neutral_count:
            primary_emotion = "positive"
            confidence = min(0.9, 0.6 + positive_count * 0.1)
        elif negative_count > positive_count and negative_count > neutral_count:
            primary_emotion = "negative"
            confidence = min(0.9, 0.6 + negative_count * 0.1)
        else:
            primary_emotion = "neutral"
            confidence = 0.7

        return {
            "primary_emotion": primary_emotion,
            "confidence": confidence,
            "emotion_intensity": confidence * 0.8,
            "analysis": f"ê°ì • ë¶„ì„ ê²°ê³¼: {primary_emotion} (ì‹ ë¢°ë„: {confidence:.2f})",
        }

    def analyze_conversation_context(self, text: str) -> Dict[str, Any]:
        """ëŒ€í™” ë§¥ë½ ë¶„ì„"""
        urgent_words = ["ê¸‰í•œ", "ë¹¨ë¦¬", "ì¦‰ì‹œ", "ì‘ê¸‰", "ê¸´ê¸‰", "ì§€ê¸ˆ", "ë‹¹ì¥"]
        question_words = ["?", "ì–´ë–»ê²Œ", "ë¬´ì—‡", "ì™œ", "ì–¸ì œ", "ì–´ë””ì„œ", "ëˆ„ê°€"]
        request_words = ["í•´ì£¼ì„¸ìš”", "ì•Œë ¤ì£¼ì„¸ìš”", "ë„ì™€ì£¼ì„¸ìš”", "ë¶€íƒ", "ìš”ì²­", "ë¬¸ì˜"]

        text_lower = text.lower()

        # ê¸´ê¸‰ë„ íŒë‹¨
        urgency = "ë†’ìŒ" if any(word in text_lower for word in urgent_words) else "ë³´í†µ"

        # ëŒ€í™” ìœ í˜• íŒë‹¨
        if any(word in text_lower for word in question_words):
            context_type = "ì§ˆë¬¸"
        elif any(word in text_lower for word in request_words):
            context_type = "ìš”ì²­"
        else:
            context_type = "ì¼ë°˜"

        return {
            "urgency": urgency,
            "context_type": context_type,
            "context": "ì „ë¬¸ê°€ ìƒë‹´ ìš”ì²­",
            "confidence": 0.85,
            "analysis": f"ë§¥ë½ ë¶„ì„: {context_type}, ê¸´ê¸‰ë„: {urgency}",
        }
